{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/Bisrat/Documents/code/morbik-food/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Bisrat/Documents/code/morbik-food/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\Bisrat\\\\Documents\\\\code\\\\morbik-food\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import{useState,useEffect}from'react';import axios from'axios';import loading from'./imgs/loading_.gif';import saveFavorites from'./savefavorites_function';import removeFavorite from'./removefavorites_function';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var RecipePage=function RecipePage(_ref){var foodid=_ref.foodid,similarfoods=_ref.similarfoods;var _useState=useState(foodid),_useState2=_slicedToArray(_useState,2),currentfood_id=_useState2[0],set_currentfood_id=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),recipedata=_useState4[0],set_recipedata=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),recipetext=_useState6[0],set_recipetext=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),ingredients=_useState8[0],set_ingridients=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),ingredientamount=_useState10[0],set_ingredientsamount=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),youtubeid=_useState12[0],set_youtubeid=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),showvideo=_useState14[0],set_showvideo=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),isfavorite=_useState16[0],set_isfavorite=_useState16[1];var favoritefoods=[];var getRecipe=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var result,temparr,temparr_two,i,str,str2;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios(\"https://www.themealdb.com/api/json/v1/1/lookup.php?i=\".concat(currentfood_id));case 3:result=_context.sent;if(localStorage.getItem(\"SavedFoods\")){favoritefoods=localStorage.getItem(\"SavedFoods\").split(\",\");if(favoritefoods.includes(currentfood_id)){set_isfavorite(true);}}set_recipedata(result.data.meals);temparr=result.data.meals[0].strInstructions.split(\"\\n\");set_recipetext(temparr);temparr=[];temparr_two=[];for(i=1;i<21;i++){str=\"strIngredient\"+i;str2=\"strMeasure\"+i;if(result.data.meals[0][str]||result.data.meals[0][str]!==\"\"){temparr.push(result.data.meals[0][str]);temparr_two.push(result.data.meals[0][str2]);}if(result.data.meals[0][str]==null){temparr.pop();temparr_two.pop();}}set_ingridients(temparr);set_ingredientsamount(temparr_two);temparr=[];temparr_two=[];temparr=result.data.meals[0].strYoutube.split(\"=\");set_youtubeid(temparr[temparr.length-1]);temparr=[];_context.next=23;break;case 20:_context.prev=20;_context.t0=_context[\"catch\"](0);console.log(\"Fetch recipe for \".concat(foodid,\" failed !  \")+_context.t0);case 23:case\"end\":return _context.stop();}}},_callee,null,[[0,20]]);}));return function getRecipe(){return _ref2.apply(this,arguments);};}();useEffect(function(){set_isfavorite(false);getRecipe();},[currentfood_id]);return/*#__PURE__*/_jsxs(\"section\",{className:\"mt-8\",children:[recipedata.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"flex item-center justify-center mt-8\",children:/*#__PURE__*/_jsx(\"img\",{src:loading,alt:\"loading\",className:\"w-12 h-12\"})}):/*#__PURE__*/_jsxs(\"div\",{className:\"mt-16\",children:[recipedata.map(function(item){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"section\",{className:\"flex flex-col xl:flex-row items-center \",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-20 xl:mb-0 lg:ml-2 flex flex-col w-4/5 justify-center xl:w-2/4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center\",children:/*#__PURE__*/_jsx(\"img\",{className:\"ml-1 w-full lg:w-[440] \",src:item.strMealThumb,alt:item.strMeal},item.strMealThumb)}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col lg:flex-row justify-between text-base\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"mt-4 lg:mt-0 text-center border-b-2  font-black pl-2 lg:w-3/5\",children:[item.strMeal,\" \"]},item.strMeal),isfavorite?/*#__PURE__*/_jsxs(\"button\",{className:\"order-first lg:order-last pr-4 text-red-400 ml-8 self-end hover:border-b-2 hover:border-red-300 flex\",onClick:function onClick(){set_isfavorite(false);removeFavorite(\"food\",item.idMeal);},children:[/*#__PURE__*/_jsxs(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",\"aria-hidden\":\"true\",role:\"img\",width:\"1.5em\",height:\"1.5em\",preserveAspectRatio:\"xMidYMid meet\",viewBox:\"0 0 24 24\",children:[/*#__PURE__*/_jsx(\"path\",{fill:\"currentColor\",d:\"M11 15h2V9h3l-4-5l-4 5h3z\"}),/*#__PURE__*/_jsx(\"path\",{fill:\"currentColor\",d:\"M20 18H4v-7H2v7c0 1.103.897 2 2 2h16c1.103 0 2-.897 2-2v-7h-2v7z\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"lg:ml-2\",children:\"Saved\"})]},\"\".concat(item.idMeal).concat(item.idMeal,\"1\")):/*#__PURE__*/_jsxs(\"button\",{className:\"order-first lg:order-last  text-red-400 border-b-2 border-red-300 hover:opacity-70 ml-8 self-end flex \",onClick:function onClick(){set_isfavorite(true);saveFavorites(\"food\",item.idMeal);},children:[/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",\"aria-hidden\":\"true\",role:\"img\",width:\"1.5em\",height:\"1.5em\",preserveAspectRatio:\"xMidYMid meet\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{fill:\"currentColor\",d:\"M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5l-5-5l1.41-1.41L11 12.67V3h2v9.67z\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"lg:ml-2\",children:\"Add to Favories\"})]},\"\".concat(item.idMeal).concat(item.idMeal,\"2\"))]},\"\".concat(item.strMeal,\" \").concat(item.strMeal,\" \").concat(item.idMeal,\"3\"))]},\"\".concat(item.strMeal,\" \").concat(item.strMeal,\" \").concat(item.idMeal,\"2\")),!showvideo&&/*#__PURE__*/_jsxs(\"button\",{className:\"border-1 rounded-full bg-amber-300 px-8 py-2 flex flex-row justify-between font-mono xl:ml-24 hover:bg-amber-400 dark:bg-amber-400 dark:hover:opacity-70\",onClick:function onClick(){return set_showvideo(true);},children:[/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"mr-4  self-center\",\"aria-hidden\":\"true\",role:\"img\",width:\"2em\",height:\"2em\",viewBox:\"0 0 16 16\",children:/*#__PURE__*/_jsx(\"path\",{fill:\"currentColor\",d:\"M8.051 1.999h.089c.822.003 4.987.033 6.11.335a2.01 2.01 0 0 1 1.415 1.42c.101.38.172.883.22 1.402l.01.104l.022.26l.008.104c.065.914.073 1.77.074 1.957v.075c-.001.194-.01 1.108-.082 2.06l-.008.105l-.009.104c-.05.572-.124 1.14-.235 1.558a2.007 2.007 0 0 1-1.415 1.42c-1.16.312-5.569.334-6.18.335h-.142c-.309 0-1.587-.006-2.927-.052l-.17-.006l-.087-.004l-.171-.007l-.171-.007c-1.11-.049-2.167-.128-2.654-.26a2.007 2.007 0 0 1-1.415-1.419c-.111-.417-.185-.986-.235-1.558L.09 9.82l-.008-.104A31.4 31.4 0 0 1 0 7.68v-.123c.002-.215.01-.958.064-1.778l.007-.103l.003-.052l.008-.104l.022-.26l.01-.104c.048-.519.119-1.023.22-1.402a2.007 2.007 0 0 1 1.415-1.42c.487-.13 1.544-.21 2.654-.26l.17-.007l.172-.006l.086-.003l.171-.007A99.788 99.788 0 0 1 7.858 2h.193zM6.4 5.209v4.818l4.157-2.408L6.4 5.209z\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"self-center\",children:\"Watch Video Instead\"})]},\"\".concat(item.strMeal,\" \").concat(item.strMeal,\" \").concat(item.idMeal,\"5\")),showvideo&&youtubeid!==\"\"&&/*#__PURE__*/_jsxs(\"div\",{className:\"lg:ml-8 w-full lg:w-4/5 xl:w-1/2\",children:[/*#__PURE__*/_jsx(\"iframe\",{className:\"w-full lg:w-[440]\",height:\"425\",src:\"https://www.youtube.com/embed/\".concat(youtubeid),title:\"YouTube video player\",frameborder:\"0\",allowFullScreen:true},\"\".concat(item.strMeal,\" \").concat(item.strMeal,\" \").concat(item.idMeal,\"9\")),/*#__PURE__*/_jsx(\"button\",{className:\"w-full hover:bg-gray-200\",onClick:function onClick(){return set_showvideo(false);},children:\"\\u274C\"},\"\".concat(item.strMeal,\" \").concat(item.strMeal,\" \").concat(item.idMeal,\"10\"))]},\"\".concat(item.strMeal,\" \").concat(item.strMeal,\" \").concat(item.idMeal,\"6\"))]},\"\".concat(item.strMeal,\" \").concat(item.strMeal,\" \").concat(item.idMeal,\"1\")),/*#__PURE__*/_jsxs(\"section\",{className:\"flex flex-col justify-items-center items-center\",children:[ingredientamount.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-100 rounded-r-lg w-full lg:w-3/5 xl:w-5/12 my-20  py-8 pl-4 font-serif dark:bg-gray-700\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-center capitalize text-2xl leading-10 pb-8\",children:\"Ingredients Needed\"}),ingredients.map(function(obj){return/*#__PURE__*/_jsxs(\"p\",{className:\"text-center leading-8\",children:[ingredientamount[ingredients.indexOf(obj)],\" \",obj]},\"\".concat(item.idMeal).concat(obj,\" \").concat(item.idMeal));})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-full lg:w-3/4 border-l-2 border-l-green-700 px-2 lg:pl-8 my-40 font-serif leading-6  lg:leading-8\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-center capitalize text-2xl leading-10 mb-8 font-bold \",children:\"Recipe\"}),recipetext.map(function(steps){return steps!==\"\"&&/*#__PURE__*/_jsxs(\"p\",{children:[\" \",steps]},steps);})]})]})]},\"\".concat(item.strMeal,\" \").concat(item.strMeal,\" \").concat(item.idMeal));}),\" \"]}),recipedata.length!==0&&/*#__PURE__*/_jsx(\"h2\",{className:\"capitalize text-xl leading-10 font-light pl-2 text-center  lg:text-left lg:ml-24\",children:\"Similar Foods\"}),/*#__PURE__*/_jsx(\"div\",{className:\"h-96 overflow-y-scroll lg:ml-24 \",children:similarfoods.map(function(item){return/*#__PURE__*/_jsx(\"div\",{className:\"float-left w-1/3 lg:w-1/5 lg:ml-2\",onClick:function onClick(){return set_currentfood_id(item.idMeal);},children:recipedata[0]!==undefined&&recipedata[0].strMeal!==item.strMeal&&/*#__PURE__*/_jsxs(\"div\",{className:\"p-1 text-sm font-light hover:opacity-75\",children:[/*#__PURE__*/_jsx(\"img\",{src:item.strMealThumb,alt:item.strMeal},item.strMealThumb),/*#__PURE__*/_jsx(\"p\",{className:\" text-center\",children:item.strMeal},item.strMeal)]},\"\".concat(item.strMealThumb).concat(item.strMeal))},\"\".concat(item.idMeal).concat(item.strMealThumb).concat(item.strMeal));})})]});};export default RecipePage;","map":{"version":3,"sources":["C:/Users/Bisrat/Documents/code/morbik-food/src/recipepage.js"],"names":["useState","useEffect","axios","loading","saveFavorites","removeFavorite","RecipePage","foodid","similarfoods","currentfood_id","set_currentfood_id","recipedata","set_recipedata","recipetext","set_recipetext","ingredients","set_ingridients","ingredientamount","set_ingredientsamount","youtubeid","set_youtubeid","showvideo","set_showvideo","isfavorite","set_isfavorite","favoritefoods","getRecipe","result","localStorage","getItem","split","includes","data","meals","temparr","strInstructions","temparr_two","i","str","str2","push","pop","strYoutube","length","console","log","map","item","strMealThumb","strMeal","idMeal","obj","indexOf","steps","undefined"],"mappings":"6YAAA,OAASA,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,OAAP,KAAoB,qBAApB,CACA,MAAOC,CAAAA,aAAP,KAA0B,0BAA1B,CACA,MAAOC,CAAAA,cAAP,KAA2B,4BAA3B,C,wFAGA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,MAA8B,IAA3BC,CAAAA,MAA2B,MAA3BA,MAA2B,CAAnBC,YAAmB,MAAnBA,YAAmB,CAE/C,cAA6CR,QAAQ,CAACO,MAAD,CAArD,wCAAOE,cAAP,eAAuBC,kBAAvB,eACA,eAAqCV,QAAQ,CAAC,EAAD,CAA7C,yCAAOW,UAAP,eAAmBC,cAAnB,eACA,eAAqCZ,QAAQ,CAAC,EAAD,CAA7C,yCAAOa,UAAP,eAAmBC,cAAnB,eACA,eAAuCd,QAAQ,CAAC,EAAD,CAA/C,yCAAOe,WAAP,eAAoBC,eAApB,eACA,eAAkDhB,QAAQ,CAAC,EAAD,CAA1D,0CAAOiB,gBAAP,gBAAyBC,qBAAzB,gBACA,gBAAmClB,QAAQ,CAAC,EAAD,CAA3C,2CAAOmB,SAAP,gBAAkBC,aAAlB,gBACA,gBAAmCpB,QAAQ,CAAC,KAAD,CAA3C,2CAAOqB,SAAP,gBAAkBC,aAAlB,gBACA,gBAAqCtB,QAAQ,CAAC,KAAD,CAA7C,2CAAOuB,UAAP,gBAAmBC,cAAnB,gBACA,GAAIC,CAAAA,aAAa,CAAG,EAApB,CAEA,GAAMC,CAAAA,SAAS,2FAAG,mNAGOxB,CAAAA,KAAK,gEAAyDO,cAAzD,EAHZ,QAGRkB,MAHQ,eAKd,GAAIC,YAAY,CAACC,OAAb,CAAqB,YAArB,CAAJ,CAAwC,CACtCJ,aAAa,CAAGG,YAAY,CAACC,OAAb,CAAqB,YAArB,EAAmCC,KAAnC,CAAyC,GAAzC,CAAhB,CACA,GAAIL,aAAa,CAACM,QAAd,CAAuBtB,cAAvB,CAAJ,CAA4C,CAAEe,cAAc,CAAC,IAAD,CAAd,CAAuB,CACtE,CAGDZ,cAAc,CAACe,MAAM,CAACK,IAAP,CAAYC,KAAb,CAAd,CACIC,OAZU,CAYAP,MAAM,CAACK,IAAP,CAAYC,KAAZ,CAAkB,CAAlB,EAAqBE,eAArB,CAAqCL,KAArC,CAA2C,IAA3C,CAZA,CAcdhB,cAAc,CAACoB,OAAD,CAAd,CAEAA,OAAO,CAAG,EAAV,CACIE,WAjBU,CAiBI,EAjBJ,CAmBd,IAASC,CAAT,CAAa,CAAb,CAAgBA,CAAC,CAAG,EAApB,CAAwBA,CAAC,EAAzB,CAA6B,CACvBC,GADuB,CACjB,gBAAkBD,CADD,CAEvBE,IAFuB,CAEhB,aAAeF,CAFC,CAI3B,GAAIV,MAAM,CAACK,IAAP,CAAYC,KAAZ,CAAkB,CAAlB,EAAqBK,GAArB,GAA6BX,MAAM,CAACK,IAAP,CAAYC,KAAZ,CAAkB,CAAlB,EAAqBK,GAArB,IAA8B,EAA/D,CAAmE,CACjEJ,OAAO,CAACM,IAAR,CAAab,MAAM,CAACK,IAAP,CAAYC,KAAZ,CAAkB,CAAlB,EAAqBK,GAArB,CAAb,EACAF,WAAW,CAACI,IAAZ,CAAiBb,MAAM,CAACK,IAAP,CAAYC,KAAZ,CAAkB,CAAlB,EAAqBM,IAArB,CAAjB,EACD,CAED,GAAIZ,MAAM,CAACK,IAAP,CAAYC,KAAZ,CAAkB,CAAlB,EAAqBK,GAArB,GAA6B,IAAjC,CAAuC,CACrCJ,OAAO,CAACO,GAAR,GACAL,WAAW,CAACK,GAAZ,GACD,CACF,CAGDzB,eAAe,CAACkB,OAAD,CAAf,CACAhB,qBAAqB,CAACkB,WAAD,CAArB,CAEAF,OAAO,CAAG,EAAV,CAAcE,WAAW,CAAG,EAAd,CAEdF,OAAO,CAAGP,MAAM,CAACK,IAAP,CAAYC,KAAZ,CAAkB,CAAlB,EAAqBS,UAArB,CAAgCZ,KAAhC,CAAsC,GAAtC,CAAV,CAEAV,aAAa,CAACc,OAAO,CAACA,OAAO,CAACS,MAAR,CAAiB,CAAlB,CAAR,CAAb,CACAT,OAAO,CAAG,EAAV,CA3Cc,iFA8CFU,OAAO,CAACC,GAAR,CAAY,2BAAoBtC,MAApB,2BAAZ,EA9CE,qEAAH,kBAATmB,CAAAA,SAAS,2CAAf,CAkDAzB,SAAS,CAAC,UAAM,CAAEuB,cAAc,CAAC,KAAD,CAAd,CAAuBE,SAAS,GAAI,CAA7C,CAA+C,CAACjB,cAAD,CAA/C,CAAT,CAKA,mBAAQ,iBAAS,SAAS,CAAC,MAAnB,WACLE,UAAU,CAACgC,MAAX,GAAsB,CAAtB,cAA0B,YAAK,SAAS,CAAC,sCAAf,uBACzB,YAAK,GAAG,CAAExC,OAAV,CAAmB,GAAG,CAAC,SAAvB,CAAiC,SAAS,CAAC,WAA3C,EADyB,EAA1B,cAGC,aAAK,SAAS,CAAC,OAAf,WAEIQ,UAAU,CAACmC,GAAX,CAAe,SAAAC,IAAI,qBACjB,oCACE,iBAAiE,SAAS,CAAC,yCAA3E,wBACE,aAA6D,SAAS,CAAC,mEAAvE,wBACE,YAAK,SAAS,CAAC,qBAAf,uBAAqC,YAAK,SAAS,CAAC,yBAAf,CAAiE,GAAG,CAAEA,IAAI,CAACC,YAA3E,CAAyF,GAAG,CAAED,IAAI,CAACE,OAAnG,EAA8CF,IAAI,CAACC,YAAnD,CAArC,EADF,cAEE,aAA6D,SAAS,CAAC,qDAAvE,wBACE,YAAI,SAAS,CAAC,+DAAd,WAAkGD,IAAI,CAACE,OAAvG,OAAmFF,IAAI,CAACE,OAAxF,CADF,CAEG1B,UAAU,cAET,gBAA8C,SAAS,CAAC,sGAAxD,CAA+J,OAAO,CAAE,kBAAM,CAACC,cAAc,CAAC,KAAD,CAAd,CAAuBnB,cAAc,CAAC,MAAD,CAAS0C,IAAI,CAACG,MAAd,CAAd,CAAoC,CAA1O,wBAA4O,aAAK,KAAK,CAAC,4BAAX,CAAwC,cAAY,MAApD,CAA2D,IAAI,CAAC,KAAhE,CAAsE,KAAK,CAAC,OAA5E,CAAoF,MAAM,CAAC,OAA3F,CAAmG,mBAAmB,CAAC,eAAvH,CAAuI,OAAO,CAAC,WAA/I,wBAA2J,aAAM,IAAI,CAAC,cAAX,CAA0B,CAAC,CAAC,2BAA5B,EAA3J,cAAqN,aAAM,IAAI,CAAC,cAAX,CAA0B,CAAC,CAAC,kEAA5B,EAArN,GAA5O,cAAwiB,UAAG,SAAS,CAAC,SAAb,mBAAxiB,aAAgBH,IAAI,CAACG,MAArB,SAA8BH,IAAI,CAACG,MAAnC,MAFS,cAIT,gBAA8C,SAAS,CAAC,wGAAxD,CAAiK,OAAO,CAAE,kBAAM,CAAE1B,cAAc,CAAC,IAAD,CAAd,CAAsBpB,aAAa,CAAC,MAAD,CAAS2C,IAAI,CAACG,MAAd,CAAb,CAAoC,CAA5O,wBAA8O,YAAK,KAAK,CAAC,4BAAX,CAAwC,cAAY,MAApD,CAA2D,IAAI,CAAC,KAAhE,CAAsE,KAAK,CAAC,OAA5E,CAAoF,MAAM,CAAC,OAA3F,CAAmG,mBAAmB,CAAC,eAAvH,CAAuI,OAAO,CAAC,WAA/I,uBAA2J,aAAM,IAAI,CAAC,cAAX,CAA0B,CAAC,CAAC,0HAA5B,EAA3J,EAA9O,cAAwiB,UAAG,SAAS,CAAC,SAAb,6BAAxiB,aAAgBH,IAAI,CAACG,MAArB,SAA8BH,IAAI,CAACG,MAAnC,MANJ,aAAaH,IAAI,CAACE,OAAlB,aAA6BF,IAAI,CAACE,OAAlC,aAA6CF,IAAI,CAACG,MAAlD,MAFF,aAAaH,IAAI,CAACE,OAAlB,aAA6BF,IAAI,CAACE,OAAlC,aAA6CF,IAAI,CAACG,MAAlD,MADF,CAcG,CAAC7B,SAAD,eAAc,gBAAgE,SAAS,CAAC,0JAA1E,CAAqO,OAAO,CAAE,yBAAMC,CAAAA,aAAa,CAAC,IAAD,CAAnB,EAA9O,wBACb,YAAK,KAAK,CAAC,4BAAX,CAAwC,SAAS,CAAC,mBAAlD,CAAsE,cAAY,MAAlF,CAAyF,IAAI,CAAC,KAA9F,CAAoG,KAAK,CAAC,KAA1G,CAAgH,MAAM,CAAC,KAAvH,CAA6H,OAAO,CAAC,WAArI,uBAAiJ,aAAM,IAAI,CAAC,cAAX,CAA0B,CAAC,CAAC,wxBAA5B,EAAjJ,EADa,cACi8B,aAAM,SAAS,CAAC,aAAhB,iCADj8B,aAAgByB,IAAI,CAACE,OAArB,aAAgCF,IAAI,CAACE,OAArC,aAAgDF,IAAI,CAACG,MAArD,MAdjB,CAkBK7B,SAAS,EAAIF,SAAS,GAAK,EAA5B,eAAmC,aAAK,SAAS,CAAC,kCAAf,wBACjC,eAAQ,SAAS,CAAC,mBAAlB,CAA+F,MAAM,CAAC,KAAtG,CAA4G,GAAG,yCAAmCA,SAAnC,CAA/G,CAA+J,KAAK,CAAC,sBAArK,CAA4L,WAAW,CAAC,GAAxM,CAA4M,eAAe,KAA3N,YAA8C4B,IAAI,CAACE,OAAnD,aAA8DF,IAAI,CAACE,OAAnE,aAA8EF,IAAI,CAACG,MAAnF,MADiC,cAEjC,eAAiE,SAAS,CAAC,0BAA3E,CAAsG,OAAO,CAAE,yBAAM5B,CAAAA,aAAa,CAAC,KAAD,CAAnB,EAA/G,8BAAgByB,IAAI,CAACE,OAArB,aAAgCF,IAAI,CAACE,OAArC,aAAgDF,IAAI,CAACG,MAArD,OAFiC,aAA0DH,IAAI,CAACE,OAA/D,aAA0EF,IAAI,CAACE,OAA/E,aAA0FF,IAAI,CAACG,MAA/F,MAlBvC,aAAiBH,IAAI,CAACE,OAAtB,aAAiCF,IAAI,CAACE,OAAtC,aAAiDF,IAAI,CAACG,MAAtD,MADF,cA2BE,iBAAS,SAAS,CAAC,iDAAnB,WACGjC,gBAAgB,CAAC0B,MAAjB,CAA0B,CAA1B,eAA+B,aAAK,SAAS,CAAC,iGAAf,wBAC9B,WAAI,SAAS,CAAC,iDAAd,gCAD8B,CAE7B5B,WAAW,CAAC+B,GAAZ,CAAgB,SAAAK,GAAG,qBAAK,WAAG,SAAS,CAAC,uBAAb,WAAkFlC,gBAAgB,CAACF,WAAW,CAACqC,OAAZ,CAAoBD,GAApB,CAAD,CAAlG,KAA+HA,GAA/H,aAA6CJ,IAAI,CAACG,MAAlD,SAA2DC,GAA3D,aAAkEJ,IAAI,CAACG,MAAvE,EAAL,EAAnB,CAF6B,GADlC,cAME,aAAK,SAAS,CAAC,qGAAf,wBACE,WAAI,SAAS,CAAC,4DAAd,oBADF,CAEGrC,UAAU,CAACiC,GAAX,CAAe,SAAAO,KAAK,QAAKA,CAAAA,KAAK,GAAK,EAAV,eAAgB,yBAAkBA,KAAlB,GAASA,KAAT,CAArB,EAApB,CAFH,GANF,GA3BF,aAAaN,IAAI,CAACE,OAAlB,aAA6BF,IAAI,CAACE,OAAlC,aAA6CF,IAAI,CAACG,MAAlD,EADiB,EAAnB,CAFJ,OAJI,CAsDLvC,UAAU,CAACgC,MAAX,GAAsB,CAAtB,eAA2B,WAAI,SAAS,CAAC,kFAAd,2BAtDtB,cAwDN,YAAK,SAAS,CAAC,kCAAf,UAEGnC,YAAY,CAACsC,GAAb,CAAiB,SAAAC,IAAI,qBAAK,YAAK,SAAS,CAAC,mCAAf,CAAmD,OAAO,CAAE,yBAAMrC,CAAAA,kBAAkB,CAACqC,IAAI,CAACG,MAAN,CAAxB,EAA5D,UAEtBvC,UAAU,CAAC,CAAD,CAAV,GAAkB2C,SAAlB,EAA+B3C,UAAU,CAAC,CAAD,CAAV,CAAcsC,OAAd,GAA0BF,IAAI,CAACE,OAA/D,eAA2E,aAAK,SAAS,CAAC,yCAAf,wBACzE,YAA6B,GAAG,CAAEF,IAAI,CAACC,YAAvC,CAAqD,GAAG,CAAED,IAAI,CAACE,OAA/D,EAAUF,IAAI,CAACC,YAAf,CADyE,cAEzE,UAAG,SAAS,CAAC,cAAb,UAAgDD,IAAI,CAACE,OAArD,EAAiCF,IAAI,CAACE,OAAtC,CAFyE,aAAiEF,IAAI,CAACC,YAAtE,SAAqFD,IAAI,CAACE,OAA1F,EAFpD,YAA2GF,IAAI,CAACG,MAAhH,SAAyHH,IAAI,CAACC,YAA9H,SAA6ID,IAAI,CAACE,OAAlJ,EAAL,EAArB,CAFH,EAxDM,GAAR,CAsED,CAzID,CA2IA,cAAe3C,CAAAA,UAAf","sourcesContent":["import { useState, useEffect } from 'react'\r\nimport axios from 'axios'\r\nimport loading from './imgs/loading_.gif'\r\nimport saveFavorites from './savefavorites_function'\r\nimport removeFavorite from './removefavorites_function'\r\n\r\n\r\nconst RecipePage = ({ foodid, similarfoods }) => {\r\n\r\n  const [currentfood_id, set_currentfood_id] = useState(foodid)\r\n  const [recipedata, set_recipedata] = useState([]);\r\n  const [recipetext, set_recipetext] = useState([]);\r\n  const [ingredients, set_ingridients] = useState([]);\r\n  const [ingredientamount, set_ingredientsamount] = useState([]);\r\n  const [youtubeid, set_youtubeid] = useState(\"\");\r\n  const [showvideo, set_showvideo] = useState(false);\r\n  const [isfavorite, set_isfavorite] = useState(false);\r\n  let favoritefoods = [];\r\n\r\n  const getRecipe = async () => {\r\n\r\n    try {\r\n      const result = await axios(`https://www.themealdb.com/api/json/v1/1/lookup.php?i=${currentfood_id}`)\r\n\r\n      if (localStorage.getItem(\"SavedFoods\")) {\r\n        favoritefoods = localStorage.getItem(\"SavedFoods\").split(\",\");\r\n        if (favoritefoods.includes(currentfood_id)) { set_isfavorite(true); }\r\n      }\r\n\r\n\r\n      set_recipedata(result.data.meals)\r\n      let temparr = result.data.meals[0].strInstructions.split(\"\\n\");\r\n\r\n      set_recipetext(temparr);\r\n\r\n      temparr = [];\r\n      let temparr_two = [];\r\n\r\n      for (let i = 1; i < 21; i++) {\r\n        let str = \"strIngredient\" + i;\r\n        let str2 = \"strMeasure\" + i;\r\n\r\n        if (result.data.meals[0][str] || result.data.meals[0][str] !== \"\") {\r\n          temparr.push(result.data.meals[0][str])\r\n          temparr_two.push(result.data.meals[0][str2])\r\n        }\r\n\r\n        if (result.data.meals[0][str] == null) {\r\n          temparr.pop();\r\n          temparr_two.pop();\r\n        }\r\n      }\r\n\r\n\r\n      set_ingridients(temparr);\r\n      set_ingredientsamount(temparr_two);\r\n\r\n      temparr = []; temparr_two = [];\r\n\r\n      temparr = result.data.meals[0].strYoutube.split(\"=\");\r\n\r\n      set_youtubeid(temparr[temparr.length - 1]);\r\n      temparr = [];\r\n\r\n\r\n    } catch (e) { console.log(`Fetch recipe for ${foodid} failed !  ` + e) }\r\n\r\n  }\r\n\r\n  useEffect(() => { set_isfavorite(false); getRecipe() }, [currentfood_id])\r\n\r\n\r\n\r\n\r\n  return (<section className=\"mt-8\">\r\n    {recipedata.length === 0 ? <div className=\"flex item-center justify-center mt-8\">\r\n      <img src={loading} alt=\"loading\" className=\"w-12 h-12\" />\r\n    </div> :\r\n      <div className=\"mt-16\">\r\n        {\r\n          recipedata.map(item => (\r\n            <div key={`${item.strMeal} ${item.strMeal} ${item.idMeal}`}>\r\n              <section key={`${item.strMeal} ${item.strMeal} ${item.idMeal}1`} className=\"flex flex-col xl:flex-row items-center \">\r\n                <div key={`${item.strMeal} ${item.strMeal} ${item.idMeal}2`} className=\"mb-20 xl:mb-0 lg:ml-2 flex flex-col w-4/5 justify-center xl:w-2/4\">\r\n                  <div className=\"flex justify-center\"><img className=\"ml-1 w-full lg:w-[440] \" key={item.strMealThumb} src={item.strMealThumb} alt={item.strMeal} /></div>\r\n                  <div key={`${item.strMeal} ${item.strMeal} ${item.idMeal}3`} className=\"flex flex-col lg:flex-row justify-between text-base\">\r\n                    <h4 className=\"mt-4 lg:mt-0 text-center border-b-2  font-black pl-2 lg:w-3/5\" key={item.strMeal}>{item.strMeal} </h4>\r\n                    {isfavorite ?\r\n\r\n                      <button key={`${item.idMeal}${item.idMeal}1`} className=\"order-first lg:order-last pr-4 text-red-400 ml-8 self-end hover:border-b-2 hover:border-red-300 flex\" onClick={() => {set_isfavorite(false); removeFavorite(\"food\", item.idMeal)}}><svg xmlns=\"http://www.w3.org/2000/svg\" aria-hidden=\"true\" role=\"img\" width=\"1.5em\" height=\"1.5em\" preserveAspectRatio=\"xMidYMid meet\" viewBox=\"0 0 24 24\"><path fill=\"currentColor\" d=\"M11 15h2V9h3l-4-5l-4 5h3z\" /><path fill=\"currentColor\" d=\"M20 18H4v-7H2v7c0 1.103.897 2 2 2h16c1.103 0 2-.897 2-2v-7h-2v7z\" /></svg><p className=\"lg:ml-2\">Saved</p></button> :\r\n\r\n                      <button key={`${item.idMeal}${item.idMeal}2`} className=\"order-first lg:order-last  text-red-400 border-b-2 border-red-300 hover:opacity-70 ml-8 self-end flex \" onClick={() => { set_isfavorite(true); saveFavorites(\"food\", item.idMeal) }}><svg xmlns=\"http://www.w3.org/2000/svg\" aria-hidden=\"true\" role=\"img\" width=\"1.5em\" height=\"1.5em\" preserveAspectRatio=\"xMidYMid meet\" viewBox=\"0 0 24 24\"><path fill=\"currentColor\" d=\"M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5l-5-5l1.41-1.41L11 12.67V3h2v9.67z\" /></svg><p className=\"lg:ml-2\">Add to Favories</p></button>\r\n                    }\r\n                  </div>\r\n                </div>\r\n\r\n                {!showvideo && <button key={`${item.strMeal} ${item.strMeal} ${item.idMeal}5`} className=\"border-1 rounded-full bg-amber-300 px-8 py-2 flex flex-row justify-between font-mono xl:ml-24 hover:bg-amber-400 dark:bg-amber-400 dark:hover:opacity-70\" onClick={() => set_showvideo(true)}>\r\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"mr-4  self-center\" aria-hidden=\"true\" role=\"img\" width=\"2em\" height=\"2em\" viewBox=\"0 0 16 16\"><path fill=\"currentColor\" d=\"M8.051 1.999h.089c.822.003 4.987.033 6.11.335a2.01 2.01 0 0 1 1.415 1.42c.101.38.172.883.22 1.402l.01.104l.022.26l.008.104c.065.914.073 1.77.074 1.957v.075c-.001.194-.01 1.108-.082 2.06l-.008.105l-.009.104c-.05.572-.124 1.14-.235 1.558a2.007 2.007 0 0 1-1.415 1.42c-1.16.312-5.569.334-6.18.335h-.142c-.309 0-1.587-.006-2.927-.052l-.17-.006l-.087-.004l-.171-.007l-.171-.007c-1.11-.049-2.167-.128-2.654-.26a2.007 2.007 0 0 1-1.415-1.419c-.111-.417-.185-.986-.235-1.558L.09 9.82l-.008-.104A31.4 31.4 0 0 1 0 7.68v-.123c.002-.215.01-.958.064-1.778l.007-.103l.003-.052l.008-.104l.022-.26l.01-.104c.048-.519.119-1.023.22-1.402a2.007 2.007 0 0 1 1.415-1.42c.487-.13 1.544-.21 2.654-.26l.17-.007l.172-.006l.086-.003l.171-.007A99.788 99.788 0 0 1 7.858 2h.193zM6.4 5.209v4.818l4.157-2.408L6.4 5.209z\" /></svg><span className=\"self-center\">Watch Video Instead</span></button>}\r\n\r\n                {\r\n                  (showvideo && youtubeid !== \"\") && <div className=\"lg:ml-8 w-full lg:w-4/5 xl:w-1/2\" key={`${item.strMeal} ${item.strMeal} ${item.idMeal}6`}>\r\n                    <iframe className=\"w-full lg:w-[440]\" key={`${item.strMeal} ${item.strMeal} ${item.idMeal}9`}  height=\"425\" src={`https://www.youtube.com/embed/${youtubeid}`} title=\"YouTube video player\" frameborder=\"0\" allowFullScreen></iframe>\r\n                    <button key={`${item.strMeal} ${item.strMeal} ${item.idMeal}10`} className=\"w-full hover:bg-gray-200\" onClick={() => set_showvideo(false)}>‚ùå</button>\r\n                  </div>\r\n                }\r\n\r\n              </section>\r\n\r\n              <section className=\"flex flex-col justify-items-center items-center\">\r\n                {ingredientamount.length > 0 && <div className=\"bg-gray-100 rounded-r-lg w-full lg:w-3/5 xl:w-5/12 my-20  py-8 pl-4 font-serif dark:bg-gray-700\">\r\n                  <h2 className=\"text-center capitalize text-2xl leading-10 pb-8\">Ingredients Needed</h2>\r\n                  {ingredients.map(obj => (<p className=\"text-center leading-8\" key={`${item.idMeal}${obj} ${item.idMeal}`}>{ingredientamount[ingredients.indexOf(obj)]} {obj}</p>))}\r\n                </div>}\r\n\r\n                <div className=\"w-full lg:w-3/4 border-l-2 border-l-green-700 px-2 lg:pl-8 my-40 font-serif leading-6  lg:leading-8\">\r\n                  <h2 className=\"text-center capitalize text-2xl leading-10 mb-8 font-bold \">Recipe</h2>\r\n                  {recipetext.map(steps => (steps !== \"\" && <p  key={steps}> {steps}</p>))}\r\n                </div>\r\n\r\n\r\n              </section>\r\n\r\n\r\n            </div>\r\n\r\n          ))\r\n        } </div>}\r\n\r\n    {recipedata.length !== 0 && <h2 className=\"capitalize text-xl leading-10 font-light pl-2 text-center  lg:text-left lg:ml-24\">Similar Foods</h2>}\r\n\r\n    <div className=\"h-96 overflow-y-scroll lg:ml-24 \">\r\n\r\n      {similarfoods.map(item => (<div className=\"float-left w-1/3 lg:w-1/5 lg:ml-2\" onClick={() => set_currentfood_id(item.idMeal)} key={`${item.idMeal}${item.strMealThumb}${item.strMeal}`}>\r\n        {\r\n          (recipedata[0] !== undefined && recipedata[0].strMeal !== item.strMeal) && <div className=\"p-1 text-sm font-light hover:opacity-75\" key={`${item.strMealThumb}${item.strMeal}`} >\r\n            <img key={item.strMealThumb} src={item.strMealThumb} alt={item.strMeal} />\r\n            <p className=\" text-center\" key={item.strMeal}>{item.strMeal}</p>\r\n          </div>\r\n        }\r\n      </div>\r\n      )\r\n      )}\r\n    </div>\r\n  </section>)\r\n}\r\n\r\nexport default RecipePage;\r\n"]},"metadata":{},"sourceType":"module"}