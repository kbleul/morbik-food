{"ast":null,"code":"import _createForOfIteratorHelper from\"C:/Users/Bisrat/Documents/code/morbik-food/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";import _asyncToGenerator from\"C:/Users/Bisrat/Documents/code/morbik-food/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Bisrat/Documents/code/morbik-food/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\Bisrat\\\\Documents\\\\code\\\\morbik-food\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useState,useEffect,useContext}from\"react\";import{useParams,Link}from\"react-router-dom\";import location_context from\"./locationcontext\";import{toogleside_menu}from\"./tooglemenus\";import axios from\"axios\";import food_subredddits_set from\"./food_subredditlist\";import drink_subredddits_set from\"./drinks_subredditlist\";import saveFavorites from\"./savefavorites_function\";import removeFavorite from\"./removefavorites_function\";import Footer from\"./fotter\";import loading from\"./imgs/loading_.gif\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Subreddit=function Subreddit(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),subreddit=_useState2[0],set_subreddit=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),subredditcontent_map=_useState4[0],set_subredditcontent_map=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),comment_isfetched=_useState6[0],set_comment_isfetched=_useState6[1];var _useParams=useParams(),slug=_useParams.slug;var _useState7=useState(slug),_useState8=_slicedToArray(_useState7,2),a=_useState8[0],seta=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),isfavorite=_useState10[0],set_isfavorite=_useState10[1];var favoritereddits=[];var whereami_arr=useContext(location_context);useEffect(function(){whereami_arr[1](\"Subreddit_page\");return function(){whereami_arr[1](\"Home\");};},[]);var fetchsubreddit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios(\"https://www.reddit.com/r/\".concat(slug,\"/.json\"));case 3:result=_context.sent;if(localStorage.getItem(\"SavedSubReddits\")){favoritereddits=localStorage.getItem(\"SavedSubReddits\").split(\",\");if(favoritereddits.includes(slug)){set_isfavorite(true);}else{set_isfavorite(false);}}set_subreddit(result.data.data.children);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.log(\"Fetch r/\".concat(slug,\" failed. \").concat(_context.t0));case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function fetchsubreddit(){return _ref.apply(this,arguments);};}();useEffect(function(){fetchsubreddit();},[slug,a]);useEffect(function(){if(subreddit.length>0){var tempobj={};var counter=0;subreddit.forEach(function(item){var fetchcomments=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var result;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0://remove ? to allow reddit api call\nif(item.data.title[item.data.title.length-1]===\"?\"){item.data.title=item.data.title.slice(0,-1);}_context2.prev=1;_context2.next=4;return axios(\"https://www.reddit.com/r/\".concat(item.data.subreddit,\"/comments/\").concat(item.data.id,\"/\").concat(item.data.title,\"/.json\"));case 4:result=_context2.sent;tempobj[item.data.id]=result.data[0].data.children[0].data;counter++;if(counter===subreddit.length-1){set_subredditcontent_map(tempobj);set_comment_isfetched(true);}_context2.next=15;break;case 10:_context2.prev=10;_context2.t0=_context2[\"catch\"](1);console.log(\"Error: Fetch reddit posts and comments failed.\\n-------------------\"+_context2.t0+\"-------------------------\");tempobj[item.data.id]={};counter++;case 15:case\"end\":return _context2.stop();}}},_callee2,null,[[1,10]]);}));return function fetchcomments(){return _ref2.apply(this,arguments);};}();fetchcomments();});}},[subreddit]);return/*#__PURE__*/_jsxs(\"article\",{className:\"grid grid-cols-8 gap-3 dark:bg-gray-800 dark:text-white mt-16 h-screen\",children:[/*#__PURE__*/_jsx(\"nav\",{id:\"sidenav\",className:\"hidden w-11/12 lg:w-full z-10 absolute top-16 left-0 bg-white dark:bg-gray-800 lg:static lg:col-start-1 lg:col-end-3  lg:mt-10  lg:block\",children:/*#__PURE__*/_jsx(RedditNavigation,{picked:slug})}),/*#__PURE__*/_jsxs(\"section\",{className:\" h-screen overflow-y-scroll col-start-1 lg:col-start-3 col-end-9 mt-12\",children:[/*#__PURE__*/_jsx(\"main\",{className:\"col-start-1 lg:col-start-3 col-end-9 mt-12\",children:subreddit.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"h-screen flex justify-center mt-12\",children:[/*#__PURE__*/_jsx(\"img\",{src:loading,alt:\"loading\",className:\"w-12 h-12\"}),\" \"]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col lg:flex-row justify-center\",children:[/*#__PURE__*/_jsxs(\"a\",{href:\"https://www.reddit.com/r/\".concat(subreddit[0].data.subreddit,\"/\"),target:\"_blank\",rel:\"noreferrer\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-4xl lg:text-6xl text-gray-400 font-bold text-center\",children:subreddit[0].data.subreddit_name_prefixed},subreddit[0].data.subreddit),/*#__PURE__*/_jsx(\"p\",{className:\"pt-3 text-gray-400 text-sm text-center\",children:subreddit[0].data.subreddit_subscribers?\"Subscribers - \".concat(subreddit[0].data.subreddit_subscribers):\"\"})]}),isfavorite?/*#__PURE__*/_jsxs(\"button\",{className:\"pr-4 text-red-400 ml-8 mr-4 lg:mr-0 self-end hover:border-b-2 hover:border-red-300 flex\",onClick:function onClick(){set_isfavorite(false);removeFavorite(\"reddit\",subreddit[0].data.subreddit);},children:[/*#__PURE__*/_jsxs(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",\"aria-hidden\":\"true\",role:\"img\",width:\"1.5em\",height:\"1.5em\",preserveAspectRatio:\"xMidYMid meet\",viewBox:\"0 0 24 24\",children:[/*#__PURE__*/_jsx(\"path\",{fill:\"currentColor\",d:\"M11 15h2V9h3l-4-5l-4 5h3z\"}),/*#__PURE__*/_jsx(\"path\",{fill:\"currentColor\",d:\"M20 18H4v-7H2v7c0 1.103.897 2 2 2h16c1.103 0 2-.897 2-2v-7h-2v7z\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"ml-2\",children:\"Saved\"})]},\"\".concat(subreddit[0].data.subreddit).concat(subreddit[0].data.subreddit,\"1\")):/*#__PURE__*/_jsxs(\"button\",{className:\"text-red-400 border-b-2 border-red-300 hover:opacity-70 ml-8 self-end flex mr-4 lg:mr-0\",onClick:function onClick(){set_isfavorite(true);saveFavorites(\"reddit\",subreddit[0].data.subreddit);},children:[/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",\"aria-hidden\":\"true\",role:\"img\",width:\"1.5em\",height:\"1.5em\",preserveAspectRatio:\"xMidYMid meet\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{fill:\"currentColor\",d:\"M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5l-5-5l1.41-1.41L11 12.67V3h2v9.67z\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"ml-2\",children:\"Add to Favories\"})]},\"\".concat(subreddit[0].data.subreddit).concat(subreddit[0].data.subreddit,\"15\"))]}),/*#__PURE__*/_jsx(\"article\",{className:\"mt-8 lg:mt-16\",children:subreddit.map(function(item){return/*#__PURE__*/_jsx(\"section\",{className:\"py-2 lg:py-8 hover:shadow-lg\",children:/*#__PURE__*/_jsx(\"a\",{href:\"https://www.reddit.com/\".concat(item.data.permalink),target:\"_blank\",rel:\"noreferrer\",children:/*#__PURE__*/_jsxs(\"section\",{className:\"flex\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-1/5 lg:w-2/12 flex flex-col lg:flex-row items-center lg:items-start\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"ml-2 lg:ml-6 w-8 h-8 lg:w-10 lg:h-10\",xmlns:\"http://www.w3.org/2000/svg\",preserveAspectRatio:\"xMidYMid meet\",viewBox:\"0 0 16 16\",children:/*#__PURE__*/_jsx(\"g\",{fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M16 8A8 8 0 1 0 0 8a8 8 0 0 0 16 0zm-7.5 3.5a.5.5 0 0 1-1 0V5.707L5.354 7.854a.5.5 0 1 1-.708-.708l3-3a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 5.707V11.5z\"})})}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xl lg:text-2xl  font-bold justify-self-center pl-3 pr-2\",children:[\" \",item.data.ups]},\"\".concat(item.data.ups,\" \").concat(subreddit[0].data.permalink))]},\"\".concat(subreddit[0].data.permalink,\" \").concat(subreddit[0].data.permalink,\" \").concat(subreddit[0].data.permalink,\" \").concat(subreddit[0].data.permalink)),/*#__PURE__*/_jsxs(\"div\",{className:\"w-4/5 pr-2 lg:w-10/12 pr-r lg:pr-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg lg:text-xl leading-5 lg:leading-7 font-mono pb-4\",children:item.data.title},item.data.title),comment_isfetched&&/*#__PURE__*/_jsx(\"section\",{children:subredditcontent_map[item.data.id]!==undefined&&/*#__PURE__*/_jsxs(\"section\",{className:\"border-b dark:border-b-gray-700\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-serif leading-5  lg:leading-6 text-sm lg:text-base\",children:subredditcontent_map[item.data.id].selftext},subredditcontent_map[item.data.id].selftext),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col lg:flex-row lg:justify-between pt-8 pb-4\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"w-full lg:w-8/12 font-light text-right lg:text-left pr-2 mb-2 \",children:[\"Submitted by : \",item.data.author]},item.data.author),/*#__PURE__*/_jsxs(\"button\",{className:\"w-fit lg:w-1/4 ml-0 lg:ml-4 text-sm  px-4 md:px-6 font-semibold bg-amber-300 dark:text-black\",children:[subredditcontent_map[item.data.id].num_comments,\" \",\"Comments\",\" \"]},\"\".concat(subredditcontent_map[item.data.id].num_comments,\" \").concat(subredditcontent_map[item.data.id].subreddit_id))]},\"\".concat(subredditcontent_map[item.data.id].subreddit_id).concat(subredditcontent_map[item.data.id].subreddit_id).concat(item.data.author))]},subredditcontent_map[item.data.id].subreddit_id)})]},\"\".concat(item.data.title,\" \").concat(item.data.author))]})})},item.data.id);})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-40 border-2 dark:border-gray-800 col-start-1 lg:col-start-3 col-end-9\",children:/*#__PURE__*/_jsx(Footer,{})})]})]});};var RedditNavigation=function RedditNavigation(_ref3){var picked=_ref3.picked;var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),show_foodsubreddit=_useState12[0],setshow_foodsubreddit=_useState12[1];var _useState13=useState(true),_useState14=_slicedToArray(_useState13,2),show_drinksubreddit=_useState14[0],setshow_drinksubreddit=_useState14[1];var foodsubreddit_arr=[];var drinksubreddit_arr=[];var iterator1=food_subredddits_set.entries();var iterator2=drink_subredddits_set.entries();var _iterator=_createForOfIteratorHelper(iterator1),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var entry=_step.value;foodsubreddit_arr.push(entry[0]);}}catch(err){_iterator.e(err);}finally{_iterator.f();}var _iterator2=_createForOfIteratorHelper(iterator2),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var _entry=_step2.value;drinksubreddit_arr.push(_entry[0]);}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}var showChoices=function showChoices(type){if(type===\"food\"){if(show_foodsubreddit){setshow_foodsubreddit(false);}else setshow_foodsubreddit(true);}else{if(show_drinksubreddit){setshow_drinksubreddit(false);}else setshow_drinksubreddit(true);}};return/*#__PURE__*/_jsx(\"section\",{className:\" lg:overscroll-y-auto lg:overflow-auto mt-4 lg:mt-16  h-screen overflow-y-scroll\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-row items-center justify-between \",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"font-black text-lg pl-12 mt-10 mb-3 flex\",children:[/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",\"aria-hidden\":\"true\",role:\"img\",width:\"1.5em\",height:\"1.5em\",preserveAspectRatio:\"xMidYMid meet\",viewBox:\"0 0 1024 1024\",children:/*#__PURE__*/_jsx(\"path\",{fill:\"currentColor\",d:\"M128 352.576V352a288 288 0 0 1 491.072-204.224a192 192 0 0 1 274.24 204.48a64 64 0 0 1 57.216 74.24C921.6 600.512 850.048 710.656 736 756.992V800a96 96 0 0 1-96 96H384a96 96 0 0 1-96-96v-43.008c-114.048-46.336-185.6-156.48-214.528-330.496A64 64 0 0 1 128 352.64zm64-.576h64a160 160 0 0 1 320 0h64a224 224 0 0 0-448 0zm128 0h192a96 96 0 0 0-192 0zm439.424 0h68.544A128.256 128.256 0 0 0 704 192c-15.36 0-29.952 2.688-43.52 7.616c11.328 18.176 20.672 37.76 27.84 58.304A64.128 64.128 0 0 1 759.424 352zM672 768H352v32a32 32 0 0 0 32 32h256a32 32 0 0 0 32-32v-32zm-342.528-64h365.056c101.504-32.64 165.76-124.928 192.896-288H136.576c27.136 163.072 91.392 255.36 192.896 288z\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"ml-2\",children:\"Food Subreddits\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"border-b text-xl  mt-10 mb-3 mr-8 hover:text-red-400 dark:border-b-gray-600\",onClick:function onClick(){return showChoices(\"food\");},children:show_foodsubreddit?\"↑\":\"↓\"})]}),/*#__PURE__*/_jsx(\"div\",{className:show_foodsubreddit?\"flex flex-col\":\"hidden\",children:foodsubreddit_arr.map(function(item){return/*#__PURE__*/_jsx(Link,{onClick:toogleside_menu,to:\"/reddit/\".concat(item),children:/*#__PURE__*/_jsx(\"div\",{className:\"flex item-center justify-center\",children:/*#__PURE__*/_jsx(\"button\",{className:picked===item?\"w-3/4 border-b px-4 py-3 font-bold border-l-2 border-l-green-500\":\" w-3/4 border-b px-4 py-3  hover:border-b-amber-500 dark:border-b-gray-600 dark:hover:border-b-amber-500\",children:item},item)},\"\".concat(item,\"1\"))},\"\".concat(item,\"key\"));})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-row items-center justify-between \",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"font-black  text-lg pl-12 mt-10 mb-3 flex\",children:[/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",\"aria-hidden\":\"true\",role:\"img\",width:\"1.5em\",height:\"1.5em\",preserveAspectRatio:\"xMidYMid meet\",viewBox:\"0 0 1024 1024\",children:/*#__PURE__*/_jsx(\"path\",{fill:\"currentColor\",d:\"M768 64a192 192 0 1 1-69.952 370.88L480 725.376V896h96a32 32 0 1 1 0 64H320a32 32 0 1 1 0-64h96V725.376L76.8 273.536a64 64 0 0 1-12.8-38.4v-10.688a32 32 0 0 1 32-32h71.808l-65.536-83.84a32 32 0 0 1 50.432-39.424l96.256 123.264h337.728A192.064 192.064 0 0 1 768 64zM656.896 192.448H800a32 32 0 0 1 32 32v10.624a64 64 0 0 1-12.8 38.4l-80.448 107.2a128 128 0 1 0-81.92-188.16v-.064zm-357.888 64l129.472 165.76a32 32 0 0 1-50.432 39.36l-160.256-205.12H144l304 404.928l304-404.928H299.008z\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"ml-2\",children:\"Drink Subreddits\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"border-b text-xl  mt-10 mb-3 mr-8 hover:text-red-400 dark:border-b-gray-600\",onClick:function onClick(){return showChoices(\"drink\");},children:show_drinksubreddit?\"↑\":\"↓\"})]}),/*#__PURE__*/_jsx(\"div\",{className:show_drinksubreddit?\"flex flex-col\":\"hidden\",children:drinksubreddit_arr.map(function(item){return/*#__PURE__*/_jsx(Link,{onClick:toogleside_menu,to:\"/reddit/\".concat(item),children:/*#__PURE__*/_jsx(\"div\",{className:\"flex item-center justify-center\",children:/*#__PURE__*/_jsx(\"button\",{className:picked===item?\"w-3/4 border-b px-4 py-3 font-bold border-l-2 border-l-green-500\":\" w-3/4 border-b px-4 py-3  hover:border-b-amber-500 dark:hover:border-b-amber-500 dark:border-b-gray-600\",children:item},item)},\"\".concat(item,\"1\"))},\"\".concat(item,\"key\"));})})]})});};export default Subreddit;","map":{"version":3,"sources":["C:/Users/Bisrat/Documents/code/morbik-food/src/subreddit.js"],"names":["React","useState","useEffect","useContext","useParams","Link","location_context","toogleside_menu","axios","food_subredddits_set","drink_subredddits_set","saveFavorites","removeFavorite","Footer","loading","Subreddit","subreddit","set_subreddit","subredditcontent_map","set_subredditcontent_map","comment_isfetched","set_comment_isfetched","slug","a","seta","isfavorite","set_isfavorite","favoritereddits","whereami_arr","fetchsubreddit","result","localStorage","getItem","split","includes","data","children","console","log","length","tempobj","counter","forEach","item","fetchcomments","title","slice","id","subreddit_name_prefixed","subreddit_subscribers","map","permalink","ups","undefined","selftext","author","num_comments","subreddit_id","RedditNavigation","picked","show_foodsubreddit","setshow_foodsubreddit","show_drinksubreddit","setshow_drinksubreddit","foodsubreddit_arr","drinksubreddit_arr","iterator1","entries","iterator2","entry","push","showChoices","type"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\r\nimport { useParams, Link } from \"react-router-dom\";\r\nimport location_context from \"./locationcontext\";\r\nimport { toogleside_menu } from \"./tooglemenus\";\r\nimport axios from \"axios\";\r\nimport food_subredddits_set from \"./food_subredditlist\";\r\nimport drink_subredddits_set from \"./drinks_subredditlist\";\r\nimport saveFavorites from \"./savefavorites_function\";\r\nimport removeFavorite from \"./removefavorites_function\";\r\nimport Footer from \"./fotter\";\r\nimport loading from \"./imgs/loading_.gif\";\r\n\r\nconst Subreddit = () => {\r\n  const [subreddit, set_subreddit] = useState([]);\r\n  const [subredditcontent_map, set_subredditcontent_map] = useState({});\r\n  const [comment_isfetched, set_comment_isfetched] = useState(false);\r\n  const { slug } = useParams();\r\n  const [a, seta] = useState(slug);\r\n  const [isfavorite, set_isfavorite] = useState(false);\r\n  let favoritereddits = [];\r\n\r\n  const whereami_arr = useContext(location_context);\r\n\r\n  useEffect(() => {\r\n    whereami_arr[1](\"Subreddit_page\");\r\n\r\n    return () => {\r\n      whereami_arr[1](\"Home\");\r\n    };\r\n  }, []);\r\n\r\n  const fetchsubreddit = async () => {\r\n    try {\r\n      const result = await axios(`https://www.reddit.com/r/${slug}/.json`);\r\n\r\n      if (localStorage.getItem(\"SavedSubReddits\")) {\r\n        favoritereddits = localStorage.getItem(\"SavedSubReddits\").split(\",\");\r\n        if (favoritereddits.includes(slug)) {\r\n          set_isfavorite(true);\r\n        } else {\r\n          set_isfavorite(false);\r\n        }\r\n      }\r\n\r\n      set_subreddit(result.data.data.children);\r\n    } catch (e) {\r\n      console.log(`Fetch r/${slug} failed. ${e}`);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchsubreddit();\r\n  }, [slug, a]);\r\n\r\n  useEffect(() => {\r\n    if (subreddit.length > 0) {\r\n      let tempobj = {};\r\n      let counter = 0;\r\n\r\n      subreddit.forEach((item) => {\r\n        const fetchcomments = async () => {\r\n          //remove ? to allow reddit api call\r\n          if (item.data.title[item.data.title.length - 1] === \"?\") {\r\n            item.data.title = item.data.title.slice(0, -1);\r\n          }\r\n\r\n          try {\r\n            const result = await axios(\r\n              `https://www.reddit.com/r/${item.data.subreddit}/comments/${item.data.id}/${item.data.title}/.json`\r\n            );\r\n            tempobj[item.data.id] = result.data[0].data.children[0].data;\r\n\r\n            counter++;\r\n\r\n            if (counter === subreddit.length - 1) {\r\n              set_subredditcontent_map(tempobj);\r\n              set_comment_isfetched(true);\r\n            }\r\n          } catch (error) {\r\n            console.log(\r\n              \"Error: Fetch reddit posts and comments failed.\\n-------------------\" +\r\n              error +\r\n              \"-------------------------\"\r\n            );\r\n            tempobj[item.data.id] = {};\r\n            counter++;\r\n          }\r\n        };\r\n        fetchcomments();\r\n      });\r\n    }\r\n  }, [subreddit]);\r\n\r\n  return (\r\n    <article className=\"grid grid-cols-8 gap-3 dark:bg-gray-800 dark:text-white mt-16 h-screen\">\r\n      <nav\r\n        id=\"sidenav\"\r\n        className=\"hidden w-11/12 lg:w-full z-10 absolute top-16 left-0 bg-white dark:bg-gray-800 lg:static lg:col-start-1 lg:col-end-3  lg:mt-10  lg:block\"\r\n      >\r\n        <RedditNavigation picked={slug} />\r\n      </nav>\r\n      <section className=\" h-screen overflow-y-scroll col-start-1 lg:col-start-3 col-end-9 mt-12\">\r\n        <main className=\"col-start-1 lg:col-start-3 col-end-9 mt-12\">\r\n          {subreddit.length === 0 ? (\r\n            <div className=\"h-screen flex justify-center mt-12\">\r\n              <img src={loading} alt=\"loading\" className=\"w-12 h-12\" />{\" \"}\r\n            </div>\r\n          ) : (\r\n            <div>\r\n              <div className=\"flex flex-col lg:flex-row justify-center\">\r\n                <a\r\n                  href={`https://www.reddit.com/r/${subreddit[0].data.subreddit}/`}\r\n                  target=\"_blank\"\r\n                  rel=\"noreferrer\"\r\n                >\r\n                  <h2\r\n                    className=\"text-4xl lg:text-6xl text-gray-400 font-bold text-center\"\r\n                    key={subreddit[0].data.subreddit}\r\n                  >\r\n                    {subreddit[0].data.subreddit_name_prefixed}\r\n                  </h2>\r\n                  <p className=\"pt-3 text-gray-400 text-sm text-center\">\r\n                    {subreddit[0].data.subreddit_subscribers\r\n                      ? `Subscribers - ${subreddit[0].data.subreddit_subscribers}`\r\n                      : \"\"}\r\n                  </p>\r\n                </a>\r\n                {isfavorite ? (\r\n                  <button\r\n                    key={`${subreddit[0].data.subreddit}${subreddit[0].data.subreddit}1`}\r\n                    className=\"pr-4 text-red-400 ml-8 mr-4 lg:mr-0 self-end hover:border-b-2 hover:border-red-300 flex\"\r\n                    onClick={() => {\r\n                      set_isfavorite(false);\r\n                      removeFavorite(\"reddit\", subreddit[0].data.subreddit);\r\n                    }}\r\n                  >\r\n                    <svg\r\n                      xmlns=\"http://www.w3.org/2000/svg\"\r\n                      aria-hidden=\"true\"\r\n                      role=\"img\"\r\n                      width=\"1.5em\"\r\n                      height=\"1.5em\"\r\n                      preserveAspectRatio=\"xMidYMid meet\"\r\n                      viewBox=\"0 0 24 24\"\r\n                    >\r\n                      <path fill=\"currentColor\" d=\"M11 15h2V9h3l-4-5l-4 5h3z\" />\r\n                      <path\r\n                        fill=\"currentColor\"\r\n                        d=\"M20 18H4v-7H2v7c0 1.103.897 2 2 2h16c1.103 0 2-.897 2-2v-7h-2v7z\"\r\n                      />\r\n                    </svg>\r\n                    <p className=\"ml-2\">Saved</p>\r\n                  </button>\r\n                ) : (\r\n                  <button\r\n                    key={`${subreddit[0].data.subreddit}${subreddit[0].data.subreddit}15`}\r\n                    className=\"text-red-400 border-b-2 border-red-300 hover:opacity-70 ml-8 self-end flex mr-4 lg:mr-0\"\r\n                    onClick={() => {\r\n                      set_isfavorite(true);\r\n                      saveFavorites(\"reddit\", subreddit[0].data.subreddit);\r\n                    }}\r\n                  >\r\n                    <svg\r\n                      xmlns=\"http://www.w3.org/2000/svg\"\r\n                      aria-hidden=\"true\"\r\n                      role=\"img\"\r\n                      width=\"1.5em\"\r\n                      height=\"1.5em\"\r\n                      preserveAspectRatio=\"xMidYMid meet\"\r\n                      viewBox=\"0 0 24 24\"\r\n                    >\r\n                      <path\r\n                        fill=\"currentColor\"\r\n                        d=\"M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5l-5-5l1.41-1.41L11 12.67V3h2v9.67z\"\r\n                      />\r\n                    </svg>\r\n                    <p className=\"ml-2\">Add to Favories</p>\r\n                  </button>\r\n                )}\r\n              </div>\r\n              <article className=\"mt-8 lg:mt-16\">\r\n                {subreddit.map((item) => (\r\n                  <section\r\n                    className=\"py-2 lg:py-8 hover:shadow-lg\"\r\n                    key={item.data.id}\r\n                  >\r\n                    <a\r\n                      href={`https://www.reddit.com/${item.data.permalink}`}\r\n                      target=\"_blank\"\r\n                      rel=\"noreferrer\"\r\n                    >\r\n                      <section className=\"flex\">\r\n                        <div\r\n                          className=\"w-1/5 lg:w-2/12 flex flex-col lg:flex-row items-center lg:items-start\"\r\n                          key={`${subreddit[0].data.permalink} ${subreddit[0].data.permalink} ${subreddit[0].data.permalink} ${subreddit[0].data.permalink}`}\r\n                        >\r\n                          <svg\r\n                            className=\"ml-2 lg:ml-6 w-8 h-8 lg:w-10 lg:h-10\"\r\n                            xmlns=\"http://www.w3.org/2000/svg\"\r\n                            preserveAspectRatio=\"xMidYMid meet\"\r\n                            viewBox=\"0 0 16 16\"\r\n                          >\r\n                            <g fill=\"currentColor\">\r\n                              <path d=\"M16 8A8 8 0 1 0 0 8a8 8 0 0 0 16 0zm-7.5 3.5a.5.5 0 0 1-1 0V5.707L5.354 7.854a.5.5 0 1 1-.708-.708l3-3a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 5.707V11.5z\" />\r\n                            </g>\r\n                          </svg>\r\n                          <p\r\n                            className=\"text-xl lg:text-2xl  font-bold justify-self-center pl-3 pr-2\"\r\n                            key={`${item.data.ups} ${subreddit[0].data.permalink}`}\r\n                          >\r\n                            {\" \"}\r\n                            {item.data.ups}\r\n                          </p>\r\n                        </div>\r\n                        <div\r\n                          className=\"w-4/5 pr-2 lg:w-10/12 pr-r lg:pr-4\"\r\n                          key={`${item.data.title} ${item.data.author}`}\r\n                        >\r\n                          <h4\r\n                            className=\"text-lg lg:text-xl leading-5 lg:leading-7 font-mono pb-4\"\r\n                            key={item.data.title}\r\n                          >\r\n                            {item.data.title}\r\n                          </h4>\r\n                          {comment_isfetched && (\r\n                            <section>\r\n                              {subredditcontent_map[item.data.id] !==\r\n                                undefined && (\r\n                                  <section\r\n                                    key={\r\n                                      subredditcontent_map[item.data.id]\r\n                                        .subreddit_id\r\n                                    }\r\n                                    className=\"border-b dark:border-b-gray-700\"\r\n                                  >\r\n                                    <p\r\n                                      className=\"font-serif leading-5  lg:leading-6 text-sm lg:text-base\"\r\n                                      key={\r\n                                        subredditcontent_map[item.data.id]\r\n                                          .selftext\r\n                                      }\r\n                                    >\r\n                                      {\r\n                                        subredditcontent_map[item.data.id]\r\n                                          .selftext\r\n                                      }\r\n                                    </p>\r\n                                    <div\r\n                                      className=\"flex flex-col lg:flex-row lg:justify-between pt-8 pb-4\"\r\n                                      key={`${subredditcontent_map[item.data.id]\r\n                                        .subreddit_id\r\n                                        }${subredditcontent_map[item.data.id]\r\n                                          .subreddit_id\r\n                                        }${item.data.author}`}\r\n                                    >\r\n                                      <p\r\n                                        className=\"w-full lg:w-8/12 font-light text-right lg:text-left pr-2 mb-2 \"\r\n                                        key={item.data.author}\r\n                                      >\r\n                                        Submitted by : {item.data.author}\r\n                                      </p>\r\n                                      <button\r\n                                        className=\"w-fit lg:w-1/4 ml-0 lg:ml-4 text-sm  px-4 md:px-6 font-semibold bg-amber-300 dark:text-black\"\r\n                                        key={`${subredditcontent_map[item.data.id]\r\n                                          .num_comments\r\n                                          } ${subredditcontent_map[item.data.id]\r\n                                            .subreddit_id\r\n                                          }`}\r\n                                      >\r\n                                        {\r\n                                          subredditcontent_map[item.data.id]\r\n                                            .num_comments\r\n                                        }{\" \"}\r\n                                        Comments{\" \"}\r\n                                      </button>\r\n                                    </div>\r\n                                  </section>\r\n                                )}\r\n                            </section>\r\n                          )}\r\n                        </div>\r\n                      </section>\r\n                    </a>\r\n                  </section>\r\n                ))}\r\n              </article>\r\n            </div>\r\n          )}\r\n        </main>\r\n        <div className=\"mt-40 border-2 dark:border-gray-800 col-start-1 lg:col-start-3 col-end-9\">\r\n          <Footer />\r\n        </div>\r\n      </section>\r\n    </article>\r\n  );\r\n};\r\n\r\nconst RedditNavigation = ({ picked }) => {\r\n  const [show_foodsubreddit, setshow_foodsubreddit] = useState(false);\r\n  const [show_drinksubreddit, setshow_drinksubreddit] = useState(true);\r\n\r\n  let foodsubreddit_arr = [];\r\n  let drinksubreddit_arr = [];\r\n\r\n  const iterator1 = food_subredddits_set.entries();\r\n  const iterator2 = drink_subredddits_set.entries();\r\n\r\n  for (const entry of iterator1) {\r\n    foodsubreddit_arr.push(entry[0]);\r\n  }\r\n  for (const entry of iterator2) {\r\n    drinksubreddit_arr.push(entry[0]);\r\n  }\r\n\r\n  const showChoices = (type) => {\r\n    if (type === \"food\") {\r\n      if (show_foodsubreddit) {\r\n        setshow_foodsubreddit(false);\r\n      } else setshow_foodsubreddit(true);\r\n    } else {\r\n      if (show_drinksubreddit) {\r\n        setshow_drinksubreddit(false);\r\n      } else setshow_drinksubreddit(true);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <section className=\" lg:overscroll-y-auto lg:overflow-auto mt-4 lg:mt-16  h-screen overflow-y-scroll\">\r\n      <div>\r\n        <div className=\"flex flex-row items-center justify-between \">\r\n          <h2 className=\"font-black text-lg pl-12 mt-10 mb-3 flex\">\r\n            <svg\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              aria-hidden=\"true\"\r\n              role=\"img\"\r\n              width=\"1.5em\"\r\n              height=\"1.5em\"\r\n              preserveAspectRatio=\"xMidYMid meet\"\r\n              viewBox=\"0 0 1024 1024\"\r\n            >\r\n              <path\r\n                fill=\"currentColor\"\r\n                d=\"M128 352.576V352a288 288 0 0 1 491.072-204.224a192 192 0 0 1 274.24 204.48a64 64 0 0 1 57.216 74.24C921.6 600.512 850.048 710.656 736 756.992V800a96 96 0 0 1-96 96H384a96 96 0 0 1-96-96v-43.008c-114.048-46.336-185.6-156.48-214.528-330.496A64 64 0 0 1 128 352.64zm64-.576h64a160 160 0 0 1 320 0h64a224 224 0 0 0-448 0zm128 0h192a96 96 0 0 0-192 0zm439.424 0h68.544A128.256 128.256 0 0 0 704 192c-15.36 0-29.952 2.688-43.52 7.616c11.328 18.176 20.672 37.76 27.84 58.304A64.128 64.128 0 0 1 759.424 352zM672 768H352v32a32 32 0 0 0 32 32h256a32 32 0 0 0 32-32v-32zm-342.528-64h365.056c101.504-32.64 165.76-124.928 192.896-288H136.576c27.136 163.072 91.392 255.36 192.896 288z\"\r\n              />\r\n            </svg>\r\n            <p className=\"ml-2\">Food Subreddits</p>\r\n          </h2>\r\n          <button\r\n            className=\"border-b text-xl  mt-10 mb-3 mr-8 hover:text-red-400 dark:border-b-gray-600\"\r\n            onClick={() => showChoices(\"food\")}\r\n          >\r\n            {show_foodsubreddit ? \"↑\" : \"↓\"}\r\n          </button>\r\n        </div>\r\n        <div className={show_foodsubreddit ? \"flex flex-col\" : \"hidden\"}>\r\n          {foodsubreddit_arr.map((item) => (\r\n            <Link\r\n              onClick={toogleside_menu}\r\n              key={`${item}key`}\r\n              to={`/reddit/${item}`}\r\n            >\r\n              <div key={`${item}1`} className=\"flex item-center justify-center\">\r\n                <button\r\n                  key={item}\r\n                  className={\r\n                    picked === item\r\n                      ? \"w-3/4 border-b px-4 py-3 font-bold border-l-2 border-l-green-500\"\r\n                      : \" w-3/4 border-b px-4 py-3  hover:border-b-amber-500 dark:border-b-gray-600 dark:hover:border-b-amber-500\"\r\n                  }\r\n                >\r\n                  {item}\r\n                </button>\r\n              </div>\r\n            </Link>\r\n          ))}\r\n        </div>\r\n\r\n        <div className=\"flex flex-row items-center justify-between \">\r\n          <h2 className=\"font-black  text-lg pl-12 mt-10 mb-3 flex\">\r\n            <svg\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              aria-hidden=\"true\"\r\n              role=\"img\"\r\n              width=\"1.5em\"\r\n              height=\"1.5em\"\r\n              preserveAspectRatio=\"xMidYMid meet\"\r\n              viewBox=\"0 0 1024 1024\"\r\n            >\r\n              <path\r\n                fill=\"currentColor\"\r\n                d=\"M768 64a192 192 0 1 1-69.952 370.88L480 725.376V896h96a32 32 0 1 1 0 64H320a32 32 0 1 1 0-64h96V725.376L76.8 273.536a64 64 0 0 1-12.8-38.4v-10.688a32 32 0 0 1 32-32h71.808l-65.536-83.84a32 32 0 0 1 50.432-39.424l96.256 123.264h337.728A192.064 192.064 0 0 1 768 64zM656.896 192.448H800a32 32 0 0 1 32 32v10.624a64 64 0 0 1-12.8 38.4l-80.448 107.2a128 128 0 1 0-81.92-188.16v-.064zm-357.888 64l129.472 165.76a32 32 0 0 1-50.432 39.36l-160.256-205.12H144l304 404.928l304-404.928H299.008z\"\r\n              />\r\n            </svg>\r\n            <p className=\"ml-2\">Drink Subreddits</p>\r\n          </h2>\r\n          <button\r\n            className=\"border-b text-xl  mt-10 mb-3 mr-8 hover:text-red-400 dark:border-b-gray-600\"\r\n            onClick={() => showChoices(\"drink\")}\r\n          >\r\n            {show_drinksubreddit ? \"↑\" : \"↓\"}\r\n          </button>\r\n        </div>\r\n        <div className={show_drinksubreddit ? \"flex flex-col\" : \"hidden\"}>\r\n          {drinksubreddit_arr.map((item) => (\r\n            <Link\r\n              onClick={toogleside_menu}\r\n              key={`${item}key`}\r\n              to={`/reddit/${item}`}\r\n            >\r\n              <div key={`${item}1`} className=\"flex item-center justify-center\">\r\n                <button\r\n                  key={item}\r\n                  className={\r\n                    picked === item\r\n                      ? \"w-3/4 border-b px-4 py-3 font-bold border-l-2 border-l-green-500\"\r\n                      : \" w-3/4 border-b px-4 py-3  hover:border-b-amber-500 dark:hover:border-b-amber-500 dark:border-b-gray-600\"\r\n                  }\r\n                >\r\n                  {item}\r\n                </button>\r\n              </div>\r\n            </Link>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Subreddit;\r\n"]},"metadata":{},"sourceType":"module"}