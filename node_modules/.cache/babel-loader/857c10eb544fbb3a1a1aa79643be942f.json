{"ast":null,"code":"var _jsxFileName = \"/home/danu/Desktop/kb/Code projects/react/morbik-food/src/drinksrecipepage.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport loading from './imgs/loading.gif';\nimport saveFavorites from './savefavorites_function';\nimport removeFavorite from \"./removefavorites_function\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst RecipePage = _ref => {\n  _s();\n\n  let {\n    drinkid,\n    similardrinks\n  } = _ref;\n  const [currentdrink_id, set_currentdrink_id] = useState(drinkid);\n  const [recipedata, set_recipedata] = useState([]);\n  const [recipetext, set_recipetext] = useState([]);\n  const [ingredients, set_ingridients] = useState([]);\n  const [ingredientamount, set_ingredientsamount] = useState([]);\n  const [isfavorite, set_isfavorite] = useState(false);\n  let favoritedrinks = [];\n\n  const getRecipe = async () => {\n    try {\n      const result = await axios(`https://www.thecocktaildb.com/api/json/v1/1/lookup.php?i=${currentdrink_id}`);\n\n      if (localStorage.getItem(\"SavedDrinks\")) {\n        favoritedrinks = localStorage.getItem(\"SavedDrinks\").split(\",\");\n        favoritedrinks = localStorage.getItem(\"SavedDrinks\").split(\",\");\n\n        if (favoritedrinks.includes(currentdrink_id)) {\n          set_isfavorite(true);\n        }\n      }\n\n      set_recipedata(result.data.drinks);\n      let temparr = result.data.drinks[0].strInstructions.split(\"\\n\");\n      set_recipetext(temparr);\n      temparr = [];\n      let temparr_two = [];\n\n      for (let i = 1; i < 16; i++) {\n        let str = \"strIngredient\" + i;\n        let str2 = \"strMeasure\" + i;\n\n        if (result.data.drinks[0][str] || result.data.drinks[0][str] !== \"\") {\n          temparr.push(result.data.drinks[0][str]);\n          temparr_two.push(result.data.drinks[0][str2]);\n        }\n\n        if (result.data.drinks[0][str] == null) {\n          temparr.pop();\n          temparr_two.pop();\n        }\n      }\n\n      set_ingridients(temparr);\n      set_ingredientsamount(temparr_two);\n      temparr = [];\n      temparr_two = [];\n    } catch (e) {\n      console.log(`Fetch recipe for ${drinkid} failed !  ` + e);\n    }\n  };\n\n  useEffect(() => {\n    set_isfavorite(false);\n    getRecipe();\n  }, [currentdrink_id]);\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"mt-8\",\n    children: [recipedata.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex item-center justify-center \",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: loading,\n        alt: \"loading\",\n        className: \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 31\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-16\",\n      children: [recipedata.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"section\", {\n          className: \"flex flex-row items-center justify-center\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ml-8 flex flex-col w-2/4\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"ml-1\",\n              src: item.strDrinkThumb,\n              alt: item.strDrink,\n              width: \"480\",\n              height: \"315\"\n            }, item.strDrinkThumb, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"text-center border-b-2 font-black pl-2 w-3/5\",\n                children: [item.strDrink, \" \"]\n              }, item.strDrink, true, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 21\n              }, this), isfavorite ? /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"pr-4 text-red-400\",\n                onClick: () => {\n                  set_isfavorite(false);\n                  removeFavorite(\"drink\", item.idMeal);\n                },\n                children: \"Remove from Favorites\"\n              }, `${item.idMeal}${item.idMeal}1`, false, {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"pr-4 text-red-400 hover:border-b\",\n                onClick: () => {\n                  set_isfavorite(true);\n                  saveFavorites(\"drink\", item.idDrink);\n                },\n                children: \"Add to Favories\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 20\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n          className: \"flex flex-col justify-items-center items-center\",\n          children: [ingredientamount.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gray-100 rounded-r-lg w-5/12 my-20 py-8 pl-4 font-serif\\t\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-center capitalize text-2xl leading-10 pb-8\",\n              children: \"Ingredients Needed\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 19\n            }, this), ingredients.map(obj => /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-center leading-8\",\n              children: [ingredientamount[ingredients.indexOf(obj)], \" \", obj]\n            }, `${item.idDrink}${obj} ${item.idDrink}`, true, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 44\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 49\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-3/4 border-l-2 border-l-green-700 pl-8 my-40 font-serif leading-8\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-center capitalize text-2xl leading-10 mb-8 font-bold \",\n              children: \"Recipe\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 19\n            }, this), recipetext.map(steps => steps !== \"\" && /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\" \", steps]\n            }, steps, true, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 61\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 15\n        }, this)]\n      }, `${item.strDrink} ${item.strDrink} ${item.idDrink}`, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 13\n      }, this)), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), recipedata.length !== 0 && /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"capitalize text-xl leading-10 font-light pl-2 ml-24 \",\n      children: \"Similar Drinks\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 35\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"h-96 overflow-y-scroll ml-24 \",\n      children: similardrinks.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"float-left w-1/5 ml-2\",\n        onClick: () => set_currentdrink_id(item.idDrink),\n        children: recipedata[0] !== undefined && recipedata[0].strDrink !== item.strDrink && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm font-light hover:opacity-75\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: item.strDrinkThumb,\n            alt: item.strDrink\n          }, item.strMealThumb, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \" text-center\",\n            children: item.strDrink\n          }, item.strDrink, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 13\n          }, this)]\n        }, `${item.strDrinkThumb}${item.strDrink}`, true, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 88\n        }, this)\n      }, `${item.idDrink}${item.strDrinkThumb}${item.strDrink}`, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 35\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 11\n  }, this);\n};\n\n_s(RecipePage, \"Hqg6+eglPKbG+GN/v/L3hptJRsQ=\");\n\n_c = RecipePage;\nexport default RecipePage;\n\nvar _c;\n\n$RefreshReg$(_c, \"RecipePage\");","map":{"version":3,"sources":["/home/danu/Desktop/kb/Code projects/react/morbik-food/src/drinksrecipepage.js"],"names":["useState","useEffect","axios","loading","saveFavorites","removeFavorite","RecipePage","drinkid","similardrinks","currentdrink_id","set_currentdrink_id","recipedata","set_recipedata","recipetext","set_recipetext","ingredients","set_ingridients","ingredientamount","set_ingredientsamount","isfavorite","set_isfavorite","favoritedrinks","getRecipe","result","localStorage","getItem","split","includes","data","drinks","temparr","strInstructions","temparr_two","i","str","str2","push","pop","e","console","log","length","map","item","strDrinkThumb","strDrink","idMeal","idDrink","obj","indexOf","steps","undefined","strMealThumb"],"mappings":"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","sourcesContent":["import { useState, useEffect } from 'react'\nimport axios from 'axios'\nimport loading from './imgs/loading.gif'\nimport saveFavorites from './savefavorites_function'\nimport removeFavorite from \"./removefavorites_function\"\n\n\nconst RecipePage = ({ drinkid, similardrinks }) => {\n\n  const [currentdrink_id, set_currentdrink_id] = useState(drinkid)\n  const [recipedata, set_recipedata] = useState([]);\n  const [recipetext, set_recipetext] = useState([]);\n  const [ingredients, set_ingridients] = useState([]);\n  const [ingredientamount, set_ingredientsamount] = useState([]);\n  const [isfavorite , set_isfavorite] = useState(false);\n  let favoritedrinks = [];\n\n  const getRecipe = async () => {\n\n    try {\n      const result = await axios(`https://www.thecocktaildb.com/api/json/v1/1/lookup.php?i=${currentdrink_id}`)\n\n      if(localStorage.getItem(\"SavedDrinks\"))\n      {  favoritedrinks = localStorage.getItem(\"SavedDrinks\").split(\",\");\n      favoritedrinks = localStorage.getItem(\"SavedDrinks\").split(\",\");\n\n          if(favoritedrinks.includes(currentdrink_id) ) { set_isfavorite(true); }\n      }\n\n      set_recipedata(result.data.drinks)\n      let temparr = result.data.drinks[0].strInstructions.split(\"\\n\");\n\n      set_recipetext(temparr);\n\n      temparr = [];\n      let temparr_two = [];\n\n      for (let i = 1; i < 16; i++) {\n        let str = \"strIngredient\" + i;\n        let str2 = \"strMeasure\" + i;\n\n        if (result.data.drinks[0][str] || result.data.drinks[0][str] !== \"\") {\n          temparr.push(result.data.drinks[0][str])\n          temparr_two.push(result.data.drinks[0][str2])\n        }\n\n        if (result.data.drinks[0][str] == null) {\n          temparr.pop();\n          temparr_two.pop();\n        }\n      }\n\n      set_ingridients(temparr);\n      set_ingredientsamount(temparr_two);\n\n      temparr = []; temparr_two = [];\n\n\n\n    } catch (e) { console.log(`Fetch recipe for ${drinkid} failed !  ` + e) }\n\n  }\n\n  useEffect(() => { set_isfavorite(false); getRecipe() }, [currentdrink_id])\n\n  return (<section className=\"mt-8\">\n    {recipedata.length === 0 ?<div className=\"flex item-center justify-center \"> \n    <img src={loading} alt=\"loading\" className=\"\" /> \n    </div> :\n      <div className=\"mt-16\">\n        {\n          recipedata.map(item => (\n            <div key={`${item.strDrink} ${item.strDrink} ${item.idDrink}`}>\n              <section className=\"flex flex-row items-center justify-center\">\n                <div className=\"ml-8 flex flex-col w-2/4\">\n                  <img className=\"ml-1\" key={item.strDrinkThumb} src={item.strDrinkThumb} alt={item.strDrink} width=\"480\" height=\"315\" />\n\n                   <div className=\"flex justify-between\">\n                    <h4 className=\"text-center border-b-2 font-black pl-2 w-3/5\" key={item.strDrink}>{item.strDrink} </h4>\n  \n                  {   isfavorite ?\n                    <button key={`${item.idMeal}${item.idMeal}1`} className=\"pr-4 text-red-400\" onClick={() => {set_isfavorite(false); removeFavorite(\"drink\" , item.idMeal)} }>Remove from Favorites</button> :\n                    <button className=\"pr-4 text-red-400 hover:border-b\" onClick={() => {set_isfavorite(true);saveFavorites(\"drink\",item.idDrink)}}>Add to Favories</button>\n                  }\n                  </div>\n\n\n                </div>\n              </section>\n\n              <section className=\"flex flex-col justify-items-center items-center\">\n                {ingredientamount.length > 0 && <div className=\"bg-gray-100 rounded-r-lg w-5/12 my-20 py-8 pl-4 font-serif\t\">\n                  <h2 className=\"text-center capitalize text-2xl leading-10 pb-8\">Ingredients Needed</h2>\n                  {ingredients.map(obj => (<p className=\"text-center leading-8\" key={`${item.idDrink}${obj} ${item.idDrink}`}>{ingredientamount[ingredients.indexOf(obj)]} {obj}</p>))}\n                </div>}\n\n                <div className=\"w-3/4 border-l-2 border-l-green-700 pl-8 my-40 font-serif leading-8\">\n                  <h2 className=\"text-center capitalize text-2xl leading-10 mb-8 font-bold \">Recipe</h2>\n                  {recipetext.map(steps => (steps !== \"\" && <p key={steps}> {steps}</p>))}\n                </div>\n\n\n              </section>\n\n\n            </div>\n\n          ))\n        } </div>}\n\n     {recipedata.length !== 0  && <h2 className=\"capitalize text-xl leading-10 font-light pl-2 ml-24 \">Similar Drinks</h2>}\n\n    <div className=\"h-96 overflow-y-scroll ml-24 \">\n\n      {similardrinks.map(item => (<div className=\"float-left w-1/5 ml-2\" onClick={() => set_currentdrink_id(item.idDrink)} key={`${item.idDrink}${item.strDrinkThumb}${item.strDrink}`}>\n        {\n          (recipedata[0] !== undefined && recipedata[0].strDrink !== item.strDrink) && <div className=\"text-sm font-light hover:opacity-75\" key={`${item.strDrinkThumb}${item.strDrink}`} >\n            <img key={item.strMealThumb} src={item.strDrinkThumb} alt={item.strDrink} />\n            <p className=\" text-center\" key={item.strDrink}>{item.strDrink}</p>\n          </div>\n        }\n      </div>\n      )\n      )}\n    </div>\n  </section>)\n}\n\nexport default RecipePage;\n"]},"metadata":{},"sourceType":"module"}