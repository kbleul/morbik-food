{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/Bisrat/Documents/code/morbik-food/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Bisrat/Documents/code/morbik-food/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\Bisrat\\\\Documents\\\\code\\\\morbik-food\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useState,useEffect}from'react';import axios from'axios';import RecipePage from'./recipepage';import Footer from\"./fotter\";import{Link}from\"react-router-dom\";import loading from\"./imgs/loading_.gif\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Main=function Main(_ref){var navChoice=_ref.navChoice,setChoice=_ref.setChoice,choicetype=_ref.choicetype,set_choicetype=_ref.set_choicetype,togglerecipe_page=_ref.togglerecipe_page,set_togglerecipe_page=_ref.set_togglerecipe_page;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),catagories=_useState2[0],set_catagories=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),frontfood_list=_useState4[0],set_frontfood_list=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),recipefor=_useState6[0],set_recipefor=_useState6[1];var getCatagories=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios(\"https://www.themealdb.com/api/json/v1/1/list.php?c=list\");case 3:result=_context.sent;set_catagories(result.data.meals);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log(\"Fetch catagory failed ! \"+_context.t0);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function getCatagories(){return _ref2.apply(this,arguments);};}();var getFoods_list=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var result,_result,_result2;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;if(!(choicetype===\"c\")){_context2.next=8;break;}_context2.next=4;return axios(\"https://www.themealdb.com/api/json/v1/1/filter.php?c=\".concat(navChoice));case 4:result=_context2.sent;if(result.data.meals==null){set_frontfood_list([\"No Food Found Error\"]);}else{set_frontfood_list(result.data.meals);}_context2.next=19;break;case 8:if(!(choicetype===\"a\")){_context2.next=15;break;}_context2.next=11;return axios(\"https://www.themealdb.com/api/json/v1/1/filter.php?a=\".concat(navChoice));case 11:_result=_context2.sent;if(_result.data.meals==null){set_frontfood_list([{\"idMeal\":\"No Food Found Error\"}]);}else{set_frontfood_list(_result.data.meals);}_context2.next=19;break;case 15:_context2.next=17;return axios(\"https://www.themealdb.com/api/json/v1/1/filter.php?i=\".concat(navChoice));case 17:_result2=_context2.sent;if(_result2.data.meals==null){set_frontfood_list([\"No Food Found Error\"]);}else{set_frontfood_list(_result2.data.meals);}case 19:_context2.next=24;break;case 21:_context2.prev=21;_context2.t0=_context2[\"catch\"](0);console.log(\"Fetch \".concat(navChoice,\" based foods failed !  \")+_context2.t0);case 24:case\"end\":return _context2.stop();}}},_callee2,null,[[0,21]]);}));return function getFoods_list(){return _ref3.apply(this,arguments);};}();useEffect(function(){getCatagories();},[]);useEffect(function(){getFoods_list();},[navChoice]);return/*#__PURE__*/_jsxs(\"div\",{className:\"h-screen overflow-y-scroll\",children:[/*#__PURE__*/_jsxs(\"article\",{className:\"lg:ml-2 mt-16 \",children:[/*#__PURE__*/_jsx(\"section\",{className:\"flex overflow-x-scroll md:overflow-hidden md:block pt-1\",children:catagories.map(function(item){return/*#__PURE__*/_jsx(\"button\",{className:\" text-xs font-black bg-amber-400  rounded-full px-6 py-2 mb-2 ml-4  hover:bg-amber-200 dark:text-black \",onClick:function onClick(){set_choicetype(\"c\");setChoice(item.strCategory);set_togglerecipe_page(false);},children:item.strCategory},item.strCategory);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 md:mt-8 flex justify-center\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"font-extrabold underline\",children:\"Foods\"}),/*#__PURE__*/_jsx(Link,{to:\"/drinks\",children:/*#__PURE__*/_jsx(\"button\",{className:\"ml-8 font-light hover:bg-amber-200 px-4 dark:hover:text-black\",children:\"Drinks\"})})]}),togglerecipe_page?/*#__PURE__*/_jsx(RecipePage,{foodid:recipefor,similarfoods:frontfood_list}):/*#__PURE__*/_jsx(\"div\",{children:frontfood_list.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"h-screen flex justify-center mt-12\",children:/*#__PURE__*/_jsx(\"img\",{className:\"w-12 h-12\",src:loading,alt:\"loading\"})}):/*#__PURE__*/_jsx(\"section\",{className:\"grid grid-cols-2 gap-1 md:grid-cols-3 md:gap-2 mt-4 md:m-16 lg:ml-10\",children:frontfood_list[0]===\"No Food Found Error\"?/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center mt-4\",children:[/*#__PURE__*/_jsxs(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",\"aria-hidden\":\"true\",role:\"img\",width:\"1em\",height:\"1em\",preserveAspectRatio:\"xMidYMid meet\",viewBox:\"0 0 48 48\",children:[/*#__PURE__*/_jsx(\"path\",{fill:\"#B39DDB\",d:\"M30.6 44H17.4c-2 0-3.7-1.4-4-3.4L9 11h30l-4.5 29.6c-.3 2-2 3.4-3.9 3.4z\"}),/*#__PURE__*/_jsx(\"path\",{fill:\"#7E57C2\",d:\"M38 13H10c-1.1 0-2-.9-2-2s.9-2 2-2h28c1.1 0 2 .9 2 2s-.9 2-2 2z\"})]}),/*#__PURE__*/_jsx(\"p\",{children:\"No available food for this ingrident.\"})]}):frontfood_list.map(function(item){return/*#__PURE__*/_jsxs(\"div\",{className:\"hover:brightness-90 px-1\",onClick:function onClick(){set_recipefor(item.idMeal);set_togglerecipe_page(true);},children:[/*#__PURE__*/_jsx(\"img\",{src:item.strMealThumb,alt:item.strMeal},item.strMealThumb),/*#__PURE__*/_jsx(\"p\",{className:\"font-light text-center text-xs md:text-base\",children:item.strMeal},item.strMeal)]},item.idMeal);})})})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Footer,{})})]});};export default Main;","map":{"version":3,"sources":["C:/Users/Bisrat/Documents/code/morbik-food/src/main.js"],"names":["React","useState","useEffect","axios","RecipePage","Footer","Link","loading","Main","navChoice","setChoice","choicetype","set_choicetype","togglerecipe_page","set_togglerecipe_page","catagories","set_catagories","frontfood_list","set_frontfood_list","recipefor","set_recipefor","getCatagories","result","data","meals","console","log","getFoods_list","map","item","strCategory","length","idMeal","strMealThumb","strMeal"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport axios from 'axios'\r\nimport RecipePage from './recipepage'\r\nimport Footer from \"./fotter\";\r\nimport { Link } from \"react-router-dom\"\r\nimport loading from \"./imgs/loading_.gif\"\r\n\r\n\r\nconst Main = ({ navChoice, setChoice, choicetype, set_choicetype, togglerecipe_page, set_togglerecipe_page }) => {\r\n  const [catagories, set_catagories] = useState([]);\r\n  const [frontfood_list, set_frontfood_list] = useState([]);\r\n\r\n  const [recipefor, set_recipefor] = useState(\"\");\r\n\r\n  const getCatagories = async () => {\r\n    try {\r\n      const result = await axios(`https://www.themealdb.com/api/json/v1/1/list.php?c=list`);\r\n      set_catagories(result.data.meals)\r\n\r\n    } catch (e) { console.log(\"Fetch catagory failed ! \" + e) }\r\n  }\r\n\r\n  const getFoods_list = async () => {\r\n    try {\r\n      if (choicetype === \"c\") {\r\n        const result = await axios(`https://www.themealdb.com/api/json/v1/1/filter.php?c=${navChoice}`)\r\n        if (result.data.meals == null) { set_frontfood_list([\"No Food Found Error\"]) }\r\n        else { set_frontfood_list(result.data.meals) }\r\n\r\n      }\r\n      else if (choicetype === \"a\") {\r\n        const result = await axios(`https://www.themealdb.com/api/json/v1/1/filter.php?a=${navChoice}`)\r\n        if (result.data.meals == null) { set_frontfood_list([{ \"idMeal\": \"No Food Found Error\" }]) }\r\n        else { set_frontfood_list(result.data.meals) }\r\n\r\n      }\r\n      else {\r\n        const result = await axios(`https://www.themealdb.com/api/json/v1/1/filter.php?i=${navChoice}`)\r\n        if (result.data.meals == null) { set_frontfood_list([\"No Food Found Error\"]) }\r\n        else { set_frontfood_list(result.data.meals) }\r\n\r\n      }\r\n\r\n    } catch (e) { console.log(`Fetch ${navChoice} based foods failed !  ` + e) }\r\n\r\n  }\r\n\r\n\r\n  useEffect(() => { getCatagories(); }, [])\r\n\r\n  useEffect(() => { getFoods_list(); }, [navChoice])\r\n\r\n\r\n\r\n  return (\r\n    <div className=\"h-screen overflow-y-scroll\">\r\n      <article className=\"lg:ml-2 mt-16 \">\r\n        <section className=\"flex overflow-x-scroll md:overflow-hidden md:block pt-1\">\r\n          {\r\n            catagories.map(item => (\r\n              <button className=\" text-xs font-black bg-amber-400  rounded-full px-6 py-2 mb-2 ml-4  hover:bg-amber-200 dark:text-black \" key={item.strCategory} onClick={() => { set_choicetype(\"c\"); setChoice(item.strCategory); set_togglerecipe_page(false); }}>{item.strCategory}</button>\r\n            ))\r\n          }\r\n        </section>\r\n        <div className=\"mt-4 md:mt-8 flex justify-center\">\r\n            <button className=\"font-extrabold underline\">Foods</button>\r\n          <Link to={`/drinks`} >\r\n            <button className=\"ml-8 font-light hover:bg-amber-200 px-4 dark:hover:text-black\">Drinks</button>\r\n          </Link>\r\n        </div>\r\n        {togglerecipe_page ? <RecipePage foodid={recipefor} similarfoods={frontfood_list} /> :\r\n          <div>\r\n      \r\n            {frontfood_list.length === 0 ? <div className=\"h-screen flex justify-center mt-12\">\r\n            <img className=\"w-12 h-12\" src={loading} alt=\"loading\" /></div> :\r\n            <section className=\"grid grid-cols-2 gap-1 md:grid-cols-3 md:gap-2 mt-4 md:m-16 lg:ml-10\">\r\n              {frontfood_list[0] === \"No Food Found Error\" ?\r\n               <div className=\"flex justify-center mt-4\">\r\n               <svg xmlns=\"http://www.w3.org/2000/svg\" aria-hidden=\"true\" role=\"img\" width=\"1em\" height=\"1em\" preserveAspectRatio=\"xMidYMid meet\" viewBox=\"0 0 48 48\"><path fill=\"#B39DDB\" d=\"M30.6 44H17.4c-2 0-3.7-1.4-4-3.4L9 11h30l-4.5 29.6c-.3 2-2 3.4-3.9 3.4z\"/><path fill=\"#7E57C2\" d=\"M38 13H10c-1.1 0-2-.9-2-2s.9-2 2-2h28c1.1 0 2 .9 2 2s-.9 2-2 2z\"/></svg>\r\n               <p>No available food for this ingrident.</p></div> :\r\n                frontfood_list.map(item => (\r\n                  <div className=\"hover:brightness-90 px-1\" key={item.idMeal} onClick={() => { set_recipefor(item.idMeal); set_togglerecipe_page(true); }}>\r\n                    <img key={item.strMealThumb} src={item.strMealThumb} alt={item.strMeal} />\r\n                    <p className=\"font-light text-center text-xs md:text-base\" key={item.strMeal}>{item.strMeal}</p>\r\n                  </div>\r\n                ))\r\n              }\r\n            </section>\r\n           }\r\n        </div>\r\n        }\r\n       \r\n      </article>\r\n\r\n      <div>\r\n      <Footer />\r\n    </div>\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport default Main\r\n\r\n"]},"metadata":{},"sourceType":"module"}