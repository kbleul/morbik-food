{"ast":null,"code":"var _jsxFileName = \"/home/danu/Desktop/kb/Code projects/react/morbik-food/src/MyFavorites.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Link } from \"react-router-dom\";\nimport loading from \"./imgs/loading.gif\";\nimport Fotter from \"./fotter.js\";\nimport RecipePage from './recipepage';\nimport DrinkRecipePage from './drinksrecipepage';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst MyFavorites = () => {\n  _s();\n\n  const [foodfavorites, set_foodfavorites] = useState([]);\n  const [drinkfavorites, set_drinkfavorites] = useState([]);\n  const [redditfavorites, set_redditfavorites] = useState([]);\n  const [frontfood_list, set_frontfood_list] = useState([]);\n  const [recipefor, set_recipefor] = useState(\"\");\n  const [drink_recipefor, set_drink_recipefor] = useState(\"\");\n  const [reloadpage, set_reloadpage] = useState(1);\n  const [type, set_type] = useState(\"food\");\n  const [leftimg, set_leftimg] = useState(\"\");\n  let [leftcounter, set_leftcounter] = useState(0);\n  let foodfavs_arr = [];\n  let drinkfavs_arr = [];\n  let redditfavs_arr = [];\n  let temparr = [];\n  let temparr2 = [];\n  let temparr3 = [];\n  console.log(\"reload\");\n\n  const fetchfood = async item => {\n    const result = await axios(`https://www.themealdb.com/api/json/v1/1/lookup.php?i=${item}`);\n    temparr.push(result.data.meals[0]);\n\n    if (foodfavs_arr.indexOf(item) === 0) {\n      set_leftimg(result.data.meals[0].strMealThumb);\n    }\n\n    if (temparr.length === foodfavs_arr.length) {\n      set_foodfavorites(temparr);\n      set_leftimg(foodfavorites[0].strMealThumb);\n    }\n  };\n\n  const fetchdrink = async item => {\n    const result = await axios(`https://www.thecocktaildb.com/api/json/v1/1/lookup.php?i=${item}`);\n    temparr2.push(result.data.drinks[0]);\n    console.log(item);\n\n    if (temparr2.length === drinkfavs_arr.length) {\n      set_drinkfavorites(temparr2);\n    }\n  };\n\n  const fetchreddit = async item => {\n    const result = await axios(`https://www.reddit.com/r/${item}.json`);\n    temparr3.push(result.data.data.children[0].data);\n\n    if (temparr3.length === redditfavs_arr.length) {\n      set_redditfavorites(temparr3);\n    }\n  };\n\n  useEffect(() => {\n    if (localStorage.getItem(\"SavedFoods\")) {\n      foodfavs_arr = localStorage.getItem(\"SavedFoods\").split(\",\");\n      console.log(\"length\" + foodfavs_arr);\n      foodfavs_arr.map(item => {\n        fetchfood(item);\n      });\n    } else {\n      set_foodfavorites([\"None\"]);\n    }\n\n    if (localStorage.getItem(\"SavedDrinks\")) {\n      drinkfavs_arr = localStorage.getItem(\"SavedDrinks\").split(\",\");\n      drinkfavs_arr.map(item => {\n        fetchdrink(item);\n      });\n    } else {\n      set_drinkfavorites([\"None\"]);\n    }\n\n    if (localStorage.getItem(\"SavedSubReddits\")) {\n      redditfavs_arr = localStorage.getItem(\"SavedSubReddits\").split(\",\");\n      redditfavs_arr.map(item => {\n        fetchreddit(item);\n      });\n    } else {\n      set_redditfavorites([\"None\"]);\n    }\n  }, [reloadpage]); //type== food,drink or reddit catagory == strCatagory\n\n  const viewFavorite = (type, id, catagory) => {\n    if (type === \"food\") {\n      const fetchitems = async () => {\n        try {\n          const result = await axios(`https://www.themealdb.com/api/json/v1/1/filter.php?c=${catagory}`);\n\n          if (result.data.meals == null) {\n            set_frontfood_list([\"No Food Found Error\"]);\n          } else {\n            set_frontfood_list(result.data.meals);\n          }\n\n          set_recipefor(id);\n        } catch (e) {\n          console.log(`Fetch ${catagory} based foods failed !  ` + e);\n        }\n      };\n\n      fetchitems();\n    } else if (type === \"drink\") {\n      const fetchitems = async () => {\n        try {\n          const result = await axios(`https://www.thecocktaildb.com/api/json/v1/1/filter.php?c=${catagory}`);\n\n          if (result.data.drinks == null) {\n            set_frontfood_list([\"No Food Found Error\"]);\n          } else {\n            set_frontfood_list(result.data.drinks);\n          }\n\n          set_drink_recipefor(id);\n        } catch (e) {\n          console.log(`Fetch ${catagory} based drinks failed !  ` + e);\n        }\n      };\n\n      fetchitems();\n    }\n  };\n\n  const setleft_imgfunc = goto => {\n    if (goto === \"next\") {\n      set_leftcounter(leftcounter + 1);\n      console.log(leftcounter);\n\n      if (leftcounter === foodfavorites.length) {\n        leftcounter = set_leftcounter(0);\n      }\n    } else {\n      leftcounter--;\n\n      if (leftcounter === 0) {\n        leftcounter = foodfavorites.length - 1;\n      }\n    }\n\n    set_leftimg(foodfavorites[leftcounter].strMealThumb);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"article\", {\n    className: \"mt-18\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-center mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: type ? \"font-black underline\" : \"font-light hover:bg-amber-200 px-4\",\n        children: \"Foods\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: type ? \"ml-8 font-light hover:bg-amber-200 px-4\" : \"ml-8 font-black underline px-4\",\n        children: \"Drinks\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: type ? \"ml-8 font-light hover:bg-amber-200 px-4\" : \"ml-8 font-black underline px-4\",\n        children: \"Reddits\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 5\n    }, this), drink_recipefor !== \"\" && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"pl-32 mt-16\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          set_reloadpage(reloadpage + 1);\n          set_drink_recipefor(\"\");\n        },\n        children: \"\\u2190\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(DrinkRecipePage, {\n        drinkid: drink_recipefor,\n        similardrinks: frontfood_list\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 33\n    }, this), recipefor !== \"\" && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"pl-32 mt-16\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          set_reloadpage(reloadpage + 1);\n          set_recipefor(\"\");\n        },\n        children: \"\\u2190\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(RecipePage, {\n        foodid: recipefor,\n        similarfoods: frontfood_list\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 26\n    }, this), drink_recipefor === \"\" && recipefor === \"\" && /*#__PURE__*/_jsxDEV(\"article\", {\n      children: foodfavorites.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: foodfavorites[0] === \"None\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"No saved food recipes found ....\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 14\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 9\n        }, this) : /*#__PURE__*/_jsxDEV(\"section\", {\n          className: \"h-screen \",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"Favorite Foods\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-3 gap-10 \",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-span-1 border-r-2 h-2/4\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                className: \"pt-4\",\n                src: leftimg,\n                alt: leftimg\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 155,\n                columnNumber: 14\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => setleft_imgfunc(\"back\"),\n                  children: \"\\u2190\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 157,\n                  columnNumber: 15\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => setleft_imgfunc(\"next\"),\n                  children: \"\\u2192\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 158,\n                  columnNumber: 15\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 156,\n                columnNumber: 14\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 14\n            }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n              className: \"h-2/4 overflow-y-scroll col-span-2 grid grid-cols-3 gap-1\",\n              children: foodfavorites.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n                onClick: () => viewFavorite(\"food\", item.idMeal, item.strCategory),\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  className: \"w-10/12 ml-4\",\n                  src: item.strMealThumb,\n                  alt: item.strMeal\n                }, item.strMealThumb, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 164,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: item.strMeal\n                }, item.strMeal, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 165,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: item.strTags ? `${item.strTags}` : \"\"\n                }, `${item.strMeal}${item.idMeal}`, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 166,\n                  columnNumber: 19\n                }, this)]\n              }, item.idMeal, true, {\n                fileName: _jsxFileName,\n                lineNumber: 163,\n                columnNumber: 17\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 14\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 62\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 38\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 59\n    }, this), /*#__PURE__*/_jsxDEV(Fotter, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 3\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 133,\n    columnNumber: 11\n  }, this);\n};\n\n_s(MyFavorites, \"TvNLw2/MSCpSpvg3LRJM2vIOAzw=\");\n\n_c = MyFavorites;\nexport default MyFavorites;\n/*\n  {drinkfavorites.length > 0 ? <div>{ drinkfavorites[0] === \"None\" ?\n        <div><p>No saved drinks recipes found ....</p></div> : <section>\n          <h1>Favorite Drinks</h1>\n          <div className=\"grid grid-cols-3 gap-10\">\n    \n            {drinkfavorites.map(item => (\n              <div key={item.idDrink} onClick={() => viewFavorite(\"drink\",item.idDrink , item.strCategory)}>\n                <img key={item.strDrinkThumb} src={item.strDrinkThumb} alt={item.strDrink} />\n                <h3 key={item.strDrink}>{item.strDrink}</h3>\n                <p  key={`${item.strAlcoholic}${item.strDrink}`}>{item.strTags ? `${item.strTags}` : \"\"}</p>\n              </div>\n            ))\n            }\n          </div>\n        </section>  } </div> :\n        <div className=\"mt-64 flex justify-center \"><img className=\"w-16\" src={loading} alt=\"loading\" /></div>\n        }\n        {redditfavorites.length > 0 ? <div>{ redditfavorites[0] === \"None\" ?\n        <div className=\"border-2\"><p>No saved subreddits ....</p></div> : <section>\n          <h1>Favorite Subreddits</h1>\n          <div className=\"grid grid-cols-3 gap-10\">\n    \n            {redditfavorites.map(item => (\n              <Link key={`${item.subreddit_name_prefixed}${item.id}`} to={`/reddit/${item.subreddit}`} >\n              <div className=\"border-b\" key={item.subreddit_id}>\n                <h3 key={item.subreddit}>{item.subreddit_name_prefixed}</h3>\n                <p key={`${item.subreddit}${item.subreddit_subscribers}`}>{item.subreddit_subscribers ? `Subscribers ${item.subreddit_subscribers}` : \"\"}</p>\n                <p key={`${item.subreddit_id}${item.subreddit}`}>{item.subreddit_type}</p>\n              </div>\n              </Link>\n            ))\n            }\n          </div>\n        </section>  } </div> :        \n        <div className=\"mt-64 flex justify-center h-screen\"><img className=\"h-28\" src={loading} alt=\"loading\" /></div>\n\n        }\n\n  */\n\nvar _c;\n\n$RefreshReg$(_c, \"MyFavorites\");","map":{"version":3,"sources":["/home/danu/Desktop/kb/Code projects/react/morbik-food/src/MyFavorites.js"],"names":["React","useState","useEffect","axios","Link","loading","Fotter","RecipePage","DrinkRecipePage","MyFavorites","foodfavorites","set_foodfavorites","drinkfavorites","set_drinkfavorites","redditfavorites","set_redditfavorites","frontfood_list","set_frontfood_list","recipefor","set_recipefor","drink_recipefor","set_drink_recipefor","reloadpage","set_reloadpage","type","set_type","leftimg","set_leftimg","leftcounter","set_leftcounter","foodfavs_arr","drinkfavs_arr","redditfavs_arr","temparr","temparr2","temparr3","console","log","fetchfood","item","result","push","data","meals","indexOf","strMealThumb","length","fetchdrink","drinks","fetchreddit","children","localStorage","getItem","split","map","viewFavorite","id","catagory","fetchitems","e","setleft_imgfunc","goto","idMeal","strCategory","strMeal","strTags"],"mappings":"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","sourcesContent":["\nimport React, { useState, useEffect } from 'react'\nimport axios from 'axios'\nimport {Link} from \"react-router-dom\"\nimport loading from \"./imgs/loading.gif\"\nimport Fotter from \"./fotter.js\"\nimport RecipePage from './recipepage'\nimport DrinkRecipePage from './drinksrecipepage'\n\n\nconst MyFavorites = () => {\n\n  const [foodfavorites, set_foodfavorites] = useState([]);\n  const [drinkfavorites, set_drinkfavorites] = useState([]);\n  const [redditfavorites, set_redditfavorites] = useState([]);\n\n  const [frontfood_list , set_frontfood_list] = useState([]);\n\n  const [recipefor , set_recipefor] = useState(\"\");\n  const [drink_recipefor , set_drink_recipefor] = useState(\"\");\n  const [reloadpage, set_reloadpage] = useState(1)\n  const [type , set_type] = useState(\"food\")\n  const [leftimg, set_leftimg] = useState(\"\");\n  let [leftcounter, set_leftcounter] = useState(0);\n\n\n  let foodfavs_arr = [];\n  let drinkfavs_arr = [];\n  let redditfavs_arr = [];\n\n  \n  let temparr = []\n  let temparr2 = []\n  let temparr3 = []\n\nconsole.log(\"reload\")\n  const fetchfood = async (item) => {\n  const result = await axios(`https://www.themealdb.com/api/json/v1/1/lookup.php?i=${item}`);\n  temparr.push(result.data.meals[0])\n\n     if(foodfavs_arr.indexOf(item) === 0) {  set_leftimg(result.data.meals[0].strMealThumb) }\n\n               if(temparr.length === foodfavs_arr.length)\n                  { \n                     set_foodfavorites(temparr); \n                     set_leftimg(foodfavorites[0].strMealThumb)\n                  }\n}\n              \n\nconst fetchdrink = async (item) => {\n  const result = await axios(`https://www.thecocktaildb.com/api/json/v1/1/lookup.php?i=${item}`);\n  temparr2.push(result.data.drinks[0])\n             console.log(item)\n               if(temparr2.length === drinkfavs_arr.length)\n                  {  set_drinkfavorites(temparr2)}\n}\n\nconst fetchreddit = async (item) => {\n  const result = await axios(`https://www.reddit.com/r/${item}.json`);\n  temparr3.push(result.data.data.children[0].data)\n               if(temparr3.length === redditfavs_arr.length)\n                  {  set_redditfavorites(temparr3)}\n}\n\n  useEffect(() => { \n    if (localStorage.getItem(\"SavedFoods\")) {\n      foodfavs_arr = localStorage.getItem(\"SavedFoods\").split(\",\");\n      console.log(\"length\" + foodfavs_arr)\n       foodfavs_arr.map(item => {\n        fetchfood(item);\n    })\n  } else { set_foodfavorites([\"None\"])}\n\n   if (localStorage.getItem(\"SavedDrinks\")) {\n     drinkfavs_arr = localStorage.getItem(\"SavedDrinks\").split(\",\");\n    drinkfavs_arr.map(item => {\n      fetchdrink(item);\n    })  \n  } else { set_drinkfavorites([\"None\"])}\n  \n  if (localStorage.getItem(\"SavedSubReddits\")) {\n    redditfavs_arr = localStorage.getItem(\"SavedSubReddits\").split(\",\");\n    redditfavs_arr.map(item => {\n      fetchreddit(item);\n   })\n  } else { set_redditfavorites([\"None\"])}\n\n  },[reloadpage])\n  \n  //type== food,drink or reddit catagory == strCatagory\n  const viewFavorite = (type ,id , catagory) => {\n     \n   if(type === \"food\") {\n    const fetchitems = async () => {\n        try {\n          const result = await axios(`https://www.themealdb.com/api/json/v1/1/filter.php?c=${catagory}`);\n          if (result.data.meals == null) { set_frontfood_list([\"No Food Found Error\"]) }\n          else { set_frontfood_list(result.data.meals) }\n          set_recipefor(id);\n        } catch(e) { console.log(`Fetch ${catagory} based foods failed !  ` + e)  }\n      }\n\n      fetchitems();\n    }\n    else if(type=== \"drink\") {\n      const fetchitems = async () => {\n        try {\n          const result = await axios(`https://www.thecocktaildb.com/api/json/v1/1/filter.php?c=${catagory}`);\n          if (result.data.drinks == null) { set_frontfood_list([\"No Food Found Error\"]) }\n          else { set_frontfood_list(result.data.drinks) }\n          set_drink_recipefor(id);\n        } catch(e) { console.log(`Fetch ${catagory} based drinks failed !  ` + e)  }\n      }\n\n      fetchitems();\n    }\n  }\n\n  const setleft_imgfunc = goto => {\n     if(goto === \"next\"){ \n        set_leftcounter(leftcounter + 1);\n        console.log(leftcounter)\n          if(leftcounter === foodfavorites.length) { leftcounter = set_leftcounter(0);}\n      }\n     else { \n        leftcounter--; \n        if(leftcounter === 0 ) { leftcounter = foodfavorites.length - 1; }\n      }\n      set_leftimg(foodfavorites[leftcounter].strMealThumb);\n  }\n\n  return (<article  className=\"mt-18\">\n    <div className=\"flex justify-center mb-4\">\n    <button className={type ? \"font-black underline\" : \"font-light hover:bg-amber-200 px-4\"} >Foods</button>\n    <button className={type ? \"ml-8 font-light hover:bg-amber-200 px-4\" : \"ml-8 font-black underline px-4\" }>Drinks</button>\n    <button className={type ? \"ml-8 font-light hover:bg-amber-200 px-4\" : \"ml-8 font-black underline px-4\" } >Reddits</button>\n  </div>\n\n    {drink_recipefor !== \"\" &&  <div className=\"pl-32 mt-16\">\n    <button onClick = {() => {set_reloadpage(reloadpage + 1); set_drink_recipefor(\"\"); }}>←</button>\n    <DrinkRecipePage drinkid={drink_recipefor} similardrinks={frontfood_list} /></div>}\n\n    {recipefor !== \"\" && <div className=\"pl-32 mt-16\">\n    <button onClick = {() => {set_reloadpage(reloadpage + 1); set_recipefor(\"\"); }}>←</button>\n      <RecipePage foodid={recipefor} similarfoods={frontfood_list} />\n    </div>  }\n    { (drink_recipefor === \"\" &&  recipefor === \"\") &&    <article>\n        {foodfavorites.length > 0 && <div>{ foodfavorites[0] === \"None\" ?\n        <div><p>No saved food recipes found ....</p></div> : <section className=\"h-screen \">\n          <h1>Favorite Foods</h1>\n          <div className=\"grid grid-cols-3 gap-10 \">\n    \n             <div className=\"col-span-1 border-r-2 h-2/4\">\n             <img className=\"pt-4\" src={leftimg} alt={leftimg} />\n             <div>\n              <button onClick = {() => setleft_imgfunc(\"back\")}>←</button>\n              <button onClick = {() => setleft_imgfunc(\"next\")}>→</button>\n             </div>\n             </div>\n             <section className=\"h-2/4 overflow-y-scroll col-span-2 grid grid-cols-3 gap-1\">\n                           {foodfavorites.map(item => (\n                <div  key={item.idMeal} onClick={() => viewFavorite(\"food\",item.idMeal , item.strCategory)}>\n                  <img className=\"w-10/12 ml-4\" key={item.strMealThumb} src={item.strMealThumb} alt={item.strMeal} />\n                  <h3 key={item.strMeal}>{item.strMeal}</h3>\n                  <p key={`${item.strMeal}${item.idMeal}`}>{item.strTags ? `${item.strTags}` : \"\"}</p>\n                </div>\n            ))\n            }\n            </section>\n\n          </div>\n        </section>}</div>\n        }\n      \n      </article>}\n\n  <Fotter />\n\n  </article>\n  )\n}\n\nexport default MyFavorites\n\n/*\n  {drinkfavorites.length > 0 ? <div>{ drinkfavorites[0] === \"None\" ?\n        <div><p>No saved drinks recipes found ....</p></div> : <section>\n          <h1>Favorite Drinks</h1>\n          <div className=\"grid grid-cols-3 gap-10\">\n    \n            {drinkfavorites.map(item => (\n              <div key={item.idDrink} onClick={() => viewFavorite(\"drink\",item.idDrink , item.strCategory)}>\n                <img key={item.strDrinkThumb} src={item.strDrinkThumb} alt={item.strDrink} />\n                <h3 key={item.strDrink}>{item.strDrink}</h3>\n                <p  key={`${item.strAlcoholic}${item.strDrink}`}>{item.strTags ? `${item.strTags}` : \"\"}</p>\n              </div>\n            ))\n            }\n          </div>\n        </section>  } </div> :\n        <div className=\"mt-64 flex justify-center \"><img className=\"w-16\" src={loading} alt=\"loading\" /></div>\n        }\n        {redditfavorites.length > 0 ? <div>{ redditfavorites[0] === \"None\" ?\n        <div className=\"border-2\"><p>No saved subreddits ....</p></div> : <section>\n          <h1>Favorite Subreddits</h1>\n          <div className=\"grid grid-cols-3 gap-10\">\n    \n            {redditfavorites.map(item => (\n              <Link key={`${item.subreddit_name_prefixed}${item.id}`} to={`/reddit/${item.subreddit}`} >\n              <div className=\"border-b\" key={item.subreddit_id}>\n                <h3 key={item.subreddit}>{item.subreddit_name_prefixed}</h3>\n                <p key={`${item.subreddit}${item.subreddit_subscribers}`}>{item.subreddit_subscribers ? `Subscribers ${item.subreddit_subscribers}` : \"\"}</p>\n                <p key={`${item.subreddit_id}${item.subreddit}`}>{item.subreddit_type}</p>\n              </div>\n              </Link>\n            ))\n            }\n          </div>\n        </section>  } </div> :        \n        <div className=\"mt-64 flex justify-center h-screen\"><img className=\"h-28\" src={loading} alt=\"loading\" /></div>\n\n        }\n\n  */"]},"metadata":{},"sourceType":"module"}