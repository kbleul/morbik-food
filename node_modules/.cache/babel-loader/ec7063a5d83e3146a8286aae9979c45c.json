{"ast":null,"code":"var _jsxFileName = \"/home/danu/Desktop/kb/Code projects/react/morbik-food/src/subredditlistpage.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport list from \"./food_subredditlist\";\nimport axios from 'axios';\nimport loading from './imgs/loading.gif';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst SubredditListPage = () => {\n  _s();\n\n  const [reddit, setreddit] = useState([]);\n  useEffect(() => {\n    let temparr = [];\n    let counter = 0;\n\n    const fetchsubreddit = async item => {\n      try {\n        const result = await axios(`https://www.reddit.com/r/${item}/.json`);\n        temparr.push(result.data.data.children[0].data);\n\n        if (temparr.length === 41) {\n          setreddit(temparr);\n          temparr = [];\n        }\n\n        console.log(counter + \" - \" + result.data.data.children[0].data.subreddit);\n        counter++;\n      } catch (e) {\n        console.log(\"Fetch \" + item + \" failed.\" + e);\n      }\n    };\n\n    for (let item of list) {\n      fetchsubreddit(item);\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mt-8\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        children: \"Foods\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        children: \"Drinks\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 5\n    }, this), reddit.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex item-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: loading,\n        alt: \"loading\",\n        className: \"loadingimg\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 62\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 28\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-5 gap-3\",\n      children: reddit.map(item => /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: item.subreddit\n        }, item.subreddit, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"\",\n          children: item.subreddit_name_prefixed\n        }, item.subreddit_name_prefixed, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: item.subreddit_type\n        }, item.subreddit_type, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"\",\n          children: [\"Subscribers - \", item.subreddit_subscribers]\n        }, item.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 25\n        }, this)]\n      }, item.permalink, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 42\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 13\n  }, this);\n};\n\n_s(SubredditListPage, \"xS34QIshiLOSf6MXMywm1dXvw3k=\");\n\n_c = SubredditListPage;\nexport default SubredditListPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"SubredditListPage\");","map":{"version":3,"sources":["/home/danu/Desktop/kb/Code projects/react/morbik-food/src/subredditlistpage.js"],"names":["useState","useEffect","list","axios","loading","SubredditListPage","reddit","setreddit","temparr","counter","fetchsubreddit","item","result","push","data","children","length","console","log","subreddit","e","map","subreddit_name_prefixed","subreddit_type","subreddit_subscribers","id","permalink"],"mappings":"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","sourcesContent":["import  {useState , useEffect} from 'react'\nimport list from \"./food_subredditlist\"\nimport axios from 'axios'\nimport loading from './imgs/loading.gif'\n\n\nconst SubredditListPage = () => {\n   \n    const [reddit, setreddit] = useState([]);\n\n    useEffect(() => {\n\n        let temparr = [];\n        let counter = 0;\n\n        const fetchsubreddit = async (item) => {\n\n            try {\n            const result = await axios(`https://www.reddit.com/r/${item}/.json`);\n\n            temparr.push(result.data.data.children[0].data);\n\n            if (temparr.length === 41) { setreddit(temparr); temparr = []; }\n            console.log(counter + \" - \" + result.data.data.children[0].data.subreddit);\n                counter++;\n\n            } catch(e) { console.log(\"Fetch \" + item + \" failed.\" + e) }\n\n        }\n\n        for (let item of list) { fetchsubreddit(item); }\n\n    }, [])\n\n\n    return (<div className=\"mt-8\">\n    <div>\n        <button>Foods</button>\n        <button>Drinks</button>\n    </div>\n    {reddit.length === 0 ? <div className=\"flex item-center\"><img src={loading} alt=\"loading\" className=\"loadingimg\" /> </div>:\n            <div className=\"grid grid-cols-5 gap-3\">\n                   { reddit.map(item => (<section key={item.permalink} className=\"\">\n\n                        <p key={item.subreddit}>{item.subreddit}</p>\n                        <p key={item.subreddit_name_prefixed} className=\"\">{item.subreddit_name_prefixed}</p>\n                        <p key={item.subreddit_type}>{item.subreddit_type}</p>\n                        <p key={item.id} className=\"\">Subscribers - {item.subreddit_subscribers}</p>\n                    </section>))\n                   }\n             </div>\n                }    \n    </div>)\n\n};\n\n\n\nexport default SubredditListPage"]},"metadata":{},"sourceType":"module"}