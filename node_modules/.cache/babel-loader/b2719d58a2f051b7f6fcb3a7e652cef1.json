{"ast":null,"code":"var _jsxFileName = \"/home/danu/Desktop/kb/Code projects/react/morbik-food/src/recipepage.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport loading from './imgs/loading.gif';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst RecipePage = _ref => {\n  _s();\n\n  let {\n    foodid,\n    similarfoods\n  } = _ref;\n  const [currentfood_id, set_currentfood_id] = useState(foodid);\n  const [recipedata, set_recipedata] = useState([]);\n  const [recipetext, set_recipetext] = useState([]);\n  const [ingredients, set_ingridients] = useState([]);\n  const [ingredientamount, set_ingredientsamount] = useState([]);\n  const [youtubeid, set_youtubeid] = useState(\"\");\n  const [showvideo, set_showvideo] = useState(false);\n\n  const getRecipe = async () => {\n    try {\n      const result = await axios(`https://www.themealdb.com/api/json/v1/1/lookup.php?i=${currentfood_id}`);\n      set_recipedata(result.data.meals);\n      let temparr = result.data.meals[0].strInstructions.split(\"\\n\");\n      set_recipetext(temparr);\n      temparr = [];\n      let temparr_two = [];\n\n      for (let i = 1; i < 21; i++) {\n        let str = \"strIngredient\" + i;\n        let str2 = \"strMeasure\" + i;\n\n        if (result.data.meals[0][str] || result.data.meals[0][str] !== \"\") {\n          temparr.push(result.data.meals[0][str]);\n          temparr_two.push(result.data.meals[0][str2]);\n        }\n\n        if (result.data.meals[0][str] == null) {\n          temparr.pop();\n          temparr_two.pop();\n        }\n      }\n\n      set_ingridients(temparr);\n      set_ingredientsamount(temparr_two);\n      temparr = [];\n      temparr_two = [];\n      temparr = result.data.meals[0].strYoutube.split(\"=\");\n      set_youtubeid(temparr[temparr.length - 1]);\n      temparr = [];\n    } catch (e) {\n      console.log(`Fetch recipe for ${foodid} failed !  ` + e);\n    }\n  };\n\n  useEffect(() => {\n    getRecipe();\n  }, [currentfood_id]);\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    children: [recipedata.length === 0 ? /*#__PURE__*/_jsxDEV(\"img\", {\n      src: loading,\n      alt: \"loading\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 34\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-16\",\n      children: [recipedata.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"section\", {\n          className: \"flex flex-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: item.strMealThumb,\n              alt: item.strMeal,\n              width: \"450\",\n              height: \"315\"\n            }, item.strMealThumb, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n              children: item.strMeal\n            }, item.strMeal, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 13\n          }, this), !showvideo && /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => set_showvideo(true),\n            children: \"Watch Video\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 26\n          }, this), showvideo && youtubeid !== \"\" && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"iframe\", {\n              width: \"560\",\n              height: \"315\",\n              src: `https://www.youtube.com/embed/${youtubeid}`,\n              title: \"YouTube video player\",\n              frameborder: \"0\",\n              allowFullScreen: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 48\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this), recipetext.map(steps => steps !== \"\" && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\" \", steps]\n        }, steps, true, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 57\n        }, this)), ingredientamount.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: ingredients.map(obj => /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"-\", ingredientamount[ingredients.indexOf(obj)], \" \", obj]\n          }, `${item.idMeal}${obj} ${item.idMeal}`, true, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 76\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 45\n        }, this)]\n      }, `${item.strMeal} ${item.strMeal} ${item.idMeal}`, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }, this)), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: similarfoods.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n        onClick: () => set_currentfood_id(item.idMeal),\n        children: recipedata[0] !== undefined && recipedata[0].strMeal !== item.strMeal && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: item.strMealThumb,\n            alt: item.strMeal,\n            width: \"100\",\n            height: \"150\"\n          }, item.strMealThumb, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: item.strMeal\n          }, item.strMeal, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 9\n          }, this)]\n        }, `${item.strMealThumb}${item.strMeal}`, true, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 87\n        }, this)\n      }, `${item.idMeal}${item.strMealThumb}${item.strMeal}`, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 37\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 13\n  }, this);\n};\n\n_s(RecipePage, \"9AiJgiXnRWwG7ZcZ8kxn5sbgrYM=\");\n\n_c = RecipePage;\nexport default RecipePage;\n\nvar _c;\n\n$RefreshReg$(_c, \"RecipePage\");","map":{"version":3,"sources":["/home/danu/Desktop/kb/Code projects/react/morbik-food/src/recipepage.js"],"names":["useState","useEffect","axios","loading","RecipePage","foodid","similarfoods","currentfood_id","set_currentfood_id","recipedata","set_recipedata","recipetext","set_recipetext","ingredients","set_ingridients","ingredientamount","set_ingredientsamount","youtubeid","set_youtubeid","showvideo","set_showvideo","getRecipe","result","data","meals","temparr","strInstructions","split","temparr_two","i","str","str2","push","pop","strYoutube","length","e","console","log","map","item","strMealThumb","strMeal","steps","obj","indexOf","idMeal","undefined"],"mappings":"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","sourcesContent":["import  {useState , useEffect} from 'react'\nimport axios from 'axios'\nimport loading from './imgs/loading.gif'\n\n\nconst RecipePage = ({foodid , similarfoods}) => {\n\n    const [currentfood_id, set_currentfood_id] = useState(foodid)\n    const [recipedata, set_recipedata] = useState([]);\n    const [recipetext, set_recipetext] = useState([]);\n    const [ingredients , set_ingridients] = useState([]);\n    const [ingredientamount , set_ingredientsamount] = useState([]);\n    const [youtubeid, set_youtubeid ] = useState(\"\");\n    const [showvideo , set_showvideo] = useState(false);\n  \n    const getRecipe = async () => {\n  \n      try {\n        const result = await axios(`https://www.themealdb.com/api/json/v1/1/lookup.php?i=${currentfood_id}`)\n  \n        set_recipedata(result.data.meals)\n        let temparr = result.data.meals[0].strInstructions.split(\"\\n\"); \n  \n        set_recipetext(temparr);\n        \n        temparr= [];\n       let temparr_two = [];\n  \n            for(let i=1; i<21 ; i++)\n            { \n              let str = \"strIngredient\" + i;\n              let str2 = \"strMeasure\" + i;\n  \n              if( result.data.meals[0][str] || result.data.meals[0][str] !== \"\" )  \n              { temparr.push(result.data.meals[0][str])  \n                temparr_two.push(result.data.meals[0][str2]) }\n          \n               if(result.data.meals[0][str] == null)\n              {  temparr.pop();\n                temparr_two.pop();  }\n            }\n  \n            set_ingridients(temparr);\n            set_ingredientsamount(temparr_two);\n  \n                 temparr =[];  temparr_two =[];\n              \n              temparr = result.data.meals[0].strYoutube.split(\"=\");\n\n              set_youtubeid(temparr[temparr.length-1]);\n              temparr= [];\n          \n  \n      }catch(e) { console.log(`Fetch recipe for ${foodid} failed !  ` + e)}\n   \n    }\n  \n    useEffect(() => {  getRecipe()  },[currentfood_id])\n  \n    return (<section>\n      {recipedata.length === 0 ? <img src={loading} alt=\"loading\" /> :\n      <div className=\"mt-16\">\n      {\n        recipedata.map(item => (\n          <div key={`${item.strMeal} ${item.strMeal} ${item.idMeal}`}>\n          <section className=\"flex flex-row\">\n            <div>\n            <img key={item.strMealThumb} src={item.strMealThumb} alt={item.strMeal} width=\"450\" height=\"315\"/>\n            <h4 key={item.strMeal}>{item.strMeal}</h4>\n             </div>\n\n          {!showvideo && <button onClick={ () => set_showvideo(true) }>Watch Video</button>}\n  \n          {\n           (showvideo && youtubeid !== \"\" ) && <div>\n            <iframe width=\"560\" height=\"315\" src={`https://www.youtube.com/embed/${youtubeid}` } title=\"YouTube video player\" frameborder=\"0\"  allowFullScreen></iframe>\n            </div>\n          }\n          \n          </section>\n            { recipetext.map(steps => (steps !== \"\" &&  <p key={steps}> {steps}</p>   )) }\n  \n  \n            { ingredientamount.length >0 && <div>{ ingredients.map(obj => (<p key={`${item.idMeal}${obj} ${item.idMeal}`}>-{ingredientamount[ingredients.indexOf(obj)] } {obj}</p>   )) }\n          </div> }\n  \n        \n    \n          </div>\n   \n        ))\n      } </div>}\n\n          <div>\n    \n      {  similarfoods.map(item => ( <div onClick={() => set_currentfood_id(item.idMeal)} key={`${item.idMeal}${item.strMealThumb}${item.strMeal}`}>\n        {\n         (recipedata[0] !== undefined && recipedata[0].strMeal !== item.strMeal ) &&  <div key={`${item.strMealThumb}${item.strMeal}`} >\n        <img key={item.strMealThumb} src={item.strMealThumb} alt={item.strMeal} width=\"100\" height=\"150\" />\n        <p key={item.strMeal}>{item.strMeal}</p>\n        </div>  \n        }\n                    </div>\n        )\n        )}\n        </div>\n      </section>)\n  }\n\nexport default RecipePage;\n"]},"metadata":{},"sourceType":"module"}