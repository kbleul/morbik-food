{"ast":null,"code":"var _jsxFileName = \"/home/danu/Desktop/kb/Code projects/react/morbik-food/src/recipepage.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst RecipePage = _ref => {\n  _s();\n\n  let {\n    foodid\n  } = _ref;\n  const [recipedata, set_recipedata] = useState([]);\n  const [recipetext, set_recipetext] = useState([]);\n  const [ingredients, set_ingridients] = useState([]);\n  const [ingredientamount, set_ingredientsamount] = useState([]);\n  const [youtubeid, set_youtubeid] = useState(\"\");\n  const [showvideo, set_showvideo] = useState(false);\n\n  const getRecipe = async () => {\n    try {\n      const result = await axios(`https://www.themealdb.com/api/json/v1/1/lookup.php?i=${foodid}`);\n      set_recipedata(result.data.meals);\n      let temparr = result.data.meals[0].strInstructions.split(\"\\n\");\n      set_recipetext(temparr);\n      temparr = [];\n      let temparr_two = [];\n\n      for (let i = 1; i < 21; i++) {\n        let str = \"strIngredient\" + i;\n        let str2 = \"strMeasure\" + i;\n\n        if (result.data.meals[0][str] || result.data.meals[0][str] !== \"\") {\n          temparr.push(result.data.meals[0][str]);\n          temparr_two.push(result.data.meals[0][str2]);\n        }\n\n        if (result.data.meals[0][str] == null) {\n          temparr.pop();\n          temparr_two.pop();\n        }\n      }\n\n      set_ingridients(temparr);\n      set_ingredientsamount(temparr_two);\n      temparr = [];\n      temparr_two = [];\n      temparr = result.data.meals[0].strYoutube.split(\"=\");\n      console.log(temparr);\n      set_youtubeid(temparr[temparr.length - 1]);\n      temparr = [];\n    } catch (e) {\n      console.log(`Fetch recipe for ${foodid} failed !  ` + e);\n    }\n  };\n\n  useEffect(() => {\n    getRecipe();\n  }, []);\n  useEffect(() => {\n    console.log(ingredients);\n  }, [ingredients]);\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    children: recipedata.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: item.strMeal\n      }, item.strMeal, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: item.strMealThumb,\n        alt: item.strMeal\n      }, item.strMealThumb, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 13\n      }, this), recipetext.map(steps => steps !== \"\" && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\" \", steps]\n      }, steps, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 57\n      }, this)), ingredientamount.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: ingredients.map(obj => /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"-\", ingredientamount[ingredients.indexOf(obj)], \" \", obj]\n        }, `${item.idMeal}${obj} ${item.idMeal}`, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 76\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 45\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => set_showvideo(true),\n        children: \"Watch Video\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 11\n      }, this), showvideo && youtubeid !== \"\" && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"iframe\", {\n          width: \"560\",\n          height: \"315\",\n          src: `https://www.youtube.com/embed/${youtubeid}`,\n          title: \"YouTube video player\",\n          frameborder: \"0\",\n          allowFullScreen: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 48\n      }, this)]\n    }, `${item.strMeal} ${item.strMeal} ${item.idMeal}`, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 11\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 13\n  }, this);\n};\n\n_s(RecipePage, \"tBMPMZwJGks+qT1bGteobCiNiv4=\");\n\n_c = RecipePage;\nexport default RecipePage;\n\nvar _c;\n\n$RefreshReg$(_c, \"RecipePage\");","map":{"version":3,"sources":["/home/danu/Desktop/kb/Code projects/react/morbik-food/src/recipepage.js"],"names":["useState","useEffect","axios","RecipePage","foodid","recipedata","set_recipedata","recipetext","set_recipetext","ingredients","set_ingridients","ingredientamount","set_ingredientsamount","youtubeid","set_youtubeid","showvideo","set_showvideo","getRecipe","result","data","meals","temparr","strInstructions","split","temparr_two","i","str","str2","push","pop","strYoutube","console","log","length","e","map","item","strMeal","strMealThumb","steps","obj","indexOf","idMeal"],"mappings":";;;AAAA,SAASA,QAAT,EAAoBC,SAApB,QAAoC,OAApC;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;AAEA,MAAMC,UAAU,GAAG,QAAc;AAAA;;AAAA,MAAb;AAACC,IAAAA;AAAD,GAAa;AAE7B,QAAM,CAACC,UAAD,EAAaC,cAAb,IAA+BN,QAAQ,CAAC,EAAD,CAA7C;AACA,QAAM,CAACO,UAAD,EAAaC,cAAb,IAA+BR,QAAQ,CAAC,EAAD,CAA7C;AACA,QAAM,CAACS,WAAD,EAAeC,eAAf,IAAkCV,QAAQ,CAAC,EAAD,CAAhD;AACA,QAAM,CAACW,gBAAD,EAAoBC,qBAApB,IAA6CZ,QAAQ,CAAC,EAAD,CAA3D;AACA,QAAM,CAACa,SAAD,EAAYC,aAAZ,IAA8Bd,QAAQ,CAAC,EAAD,CAA5C;AACA,QAAM,CAACe,SAAD,EAAaC,aAAb,IAA8BhB,QAAQ,CAAC,KAAD,CAA5C;;AAGA,QAAMiB,SAAS,GAAG,YAAY;AAE5B,QAAI;AACF,YAAMC,MAAM,GAAG,MAAMhB,KAAK,CAAE,wDAAuDE,MAAO,EAAhE,CAA1B;AAEAE,MAAAA,cAAc,CAACY,MAAM,CAACC,IAAP,CAAYC,KAAb,CAAd;AACA,UAAIC,OAAO,GAAGH,MAAM,CAACC,IAAP,CAAYC,KAAZ,CAAkB,CAAlB,EAAqBE,eAArB,CAAqCC,KAArC,CAA2C,IAA3C,CAAd;AAEAf,MAAAA,cAAc,CAACa,OAAD,CAAd;AAEAA,MAAAA,OAAO,GAAE,EAAT;AACD,UAAIG,WAAW,GAAG,EAAlB;;AAEK,WAAI,IAAIC,CAAC,GAAC,CAAV,EAAaA,CAAC,GAAC,EAAf,EAAoBA,CAAC,EAArB,EACA;AACE,YAAIC,GAAG,GAAG,kBAAkBD,CAA5B;AACA,YAAIE,IAAI,GAAG,eAAeF,CAA1B;;AAEA,YAAIP,MAAM,CAACC,IAAP,CAAYC,KAAZ,CAAkB,CAAlB,EAAqBM,GAArB,KAA6BR,MAAM,CAACC,IAAP,CAAYC,KAAZ,CAAkB,CAAlB,EAAqBM,GAArB,MAA8B,EAA/D,EACA;AAAEL,UAAAA,OAAO,CAACO,IAAR,CAAaV,MAAM,CAACC,IAAP,CAAYC,KAAZ,CAAkB,CAAlB,EAAqBM,GAArB,CAAb;AACAF,UAAAA,WAAW,CAACI,IAAZ,CAAiBV,MAAM,CAACC,IAAP,CAAYC,KAAZ,CAAkB,CAAlB,EAAqBO,IAArB,CAAjB;AAA8C;;AAE/C,YAAGT,MAAM,CAACC,IAAP,CAAYC,KAAZ,CAAkB,CAAlB,EAAqBM,GAArB,KAA6B,IAAhC,EACD;AAAGL,UAAAA,OAAO,CAACQ,GAAR;AACDL,UAAAA,WAAW,CAACK,GAAZ;AAAqB;AACxB;;AAEDnB,MAAAA,eAAe,CAACW,OAAD,CAAf;AACAT,MAAAA,qBAAqB,CAACY,WAAD,CAArB;AAEKH,MAAAA,OAAO,GAAE,EAAT;AAAcG,MAAAA,WAAW,GAAE,EAAb;AAEjBH,MAAAA,OAAO,GAAGH,MAAM,CAACC,IAAP,CAAYC,KAAZ,CAAkB,CAAlB,EAAqBU,UAArB,CAAgCP,KAAhC,CAAsC,GAAtC,CAAV;AACZQ,MAAAA,OAAO,CAACC,GAAR,CAAYX,OAAZ;AACYP,MAAAA,aAAa,CAACO,OAAO,CAACA,OAAO,CAACY,MAAR,GAAe,CAAhB,CAAR,CAAb;AACAZ,MAAAA,OAAO,GAAE,EAAT;AAGP,KApCD,CAoCC,OAAMa,CAAN,EAAS;AAAEH,MAAAA,OAAO,CAACC,GAAR,CAAa,oBAAmB5B,MAAO,aAA3B,GAA0C8B,CAAtD;AAAyD;AAEtE,GAxCD;;AA0CAjC,EAAAA,SAAS,CAAC,MAAM;AAAGgB,IAAAA,SAAS;AAAK,GAAxB,EAAyB,EAAzB,CAAT;AACAhB,EAAAA,SAAS,CAAC,MAAM;AAAE8B,IAAAA,OAAO,CAACC,GAAR,CAAYvB,WAAZ;AAAyB,GAAlC,EAAmC,CAACA,WAAD,CAAnC,CAAT;AAEA,sBAAQ;AAAA,cAEJJ,UAAU,CAAC8B,GAAX,CAAeC,IAAI,iBACjB;AAAA,8BACE;AAAA,kBAAwBA,IAAI,CAACC;AAA7B,SAASD,IAAI,CAACC,OAAd;AAAA;AAAA;AAAA;AAAA,cADF,eAEE;AAA6B,QAAA,GAAG,EAAED,IAAI,CAACE,YAAvC;AAAqD,QAAA,GAAG,EAAEF,IAAI,CAACC;AAA/D,SAAUD,IAAI,CAACE,YAAf;AAAA;AAAA;AAAA;AAAA,cAFF,EAGI/B,UAAU,CAAC4B,GAAX,CAAeI,KAAK,IAAKA,KAAK,KAAK,EAAV,iBAAiB;AAAA,wBAAiBA,KAAjB;AAAA,SAAQA,KAAR;AAAA;AAAA;AAAA;AAAA,cAA1C,CAHJ,EAMI5B,gBAAgB,CAACsB,MAAjB,GAAyB,CAAzB,iBAA8B;AAAA,kBAAOxB,WAAW,CAAC0B,GAAZ,CAAgBK,GAAG,iBAAK;AAAA,0BAAiD7B,gBAAgB,CAACF,WAAW,CAACgC,OAAZ,CAAoBD,GAApB,CAAD,CAAjE,OAA+FA,GAA/F;AAAA,WAAS,GAAEJ,IAAI,CAACM,MAAO,GAAEF,GAAI,IAAGJ,IAAI,CAACM,MAAO,EAA5C;AAAA;AAAA;AAAA;AAAA,gBAAxB;AAAP;AAAA;AAAA;AAAA;AAAA,cANlC,eASA;AAAQ,QAAA,OAAO,EAAG,MAAM1B,aAAa,CAAC,IAAD,CAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cATA,EAYED,SAAS,IAAIF,SAAS,KAAK,EAA5B,iBAAoC;AAAA,+BACnC;AAAQ,UAAA,KAAK,EAAC,KAAd;AAAoB,UAAA,MAAM,EAAC,KAA3B;AAAiC,UAAA,GAAG,EAAG,iCAAgCA,SAAU,EAAjF;AAAqF,UAAA,KAAK,EAAC,sBAA3F;AAAkH,UAAA,WAAW,EAAC,GAA9H;AAAmI,UAAA,eAAe;AAAlJ;AAAA;AAAA;AAAA;AAAA;AADmC;AAAA;AAAA;AAAA;AAAA,cAZrC;AAAA,OAAW,GAAEuB,IAAI,CAACC,OAAQ,IAAGD,IAAI,CAACC,OAAQ,IAAGD,IAAI,CAACM,MAAO,EAAzD;AAAA;AAAA;AAAA;AAAA,YADF;AAFI;AAAA;AAAA;AAAA;AAAA,UAAR;AA0BD,CAjFH;;GAAMvC,U;;KAAAA,U;AAmFN,eAAeA,UAAf","sourcesContent":["import  {useState , useEffect} from 'react'\nimport axios from 'axios'\n\nconst RecipePage = ({foodid}) => {\n\n    const [recipedata, set_recipedata] = useState([]);\n    const [recipetext, set_recipetext] = useState([]);\n    const [ingredients , set_ingridients] = useState([]);\n    const [ingredientamount , set_ingredientsamount] = useState([]);\n    const [youtubeid, set_youtubeid ] = useState(\"\");\n    const [showvideo , set_showvideo] = useState(false);\n  \n  \n    const getRecipe = async () => {\n  \n      try {\n        const result = await axios(`https://www.themealdb.com/api/json/v1/1/lookup.php?i=${foodid}`)\n  \n        set_recipedata(result.data.meals)\n        let temparr = result.data.meals[0].strInstructions.split(\"\\n\"); \n  \n        set_recipetext(temparr);\n        \n        temparr= [];\n       let temparr_two = [];\n  \n            for(let i=1; i<21 ; i++)\n            { \n              let str = \"strIngredient\" + i;\n              let str2 = \"strMeasure\" + i;\n  \n              if( result.data.meals[0][str] || result.data.meals[0][str] !== \"\" )  \n              { temparr.push(result.data.meals[0][str])  \n                temparr_two.push(result.data.meals[0][str2]) }\n          \n               if(result.data.meals[0][str] == null)\n              {  temparr.pop();\n                temparr_two.pop();  }\n            }\n  \n            set_ingridients(temparr);\n            set_ingredientsamount(temparr_two);\n  \n                 temparr =[];  temparr_two =[];\n              \n              temparr = result.data.meals[0].strYoutube.split(\"=\");\n  console.log(temparr)\n              set_youtubeid(temparr[temparr.length-1]);\n              temparr= [];\n          \n  \n      }catch(e) { console.log(`Fetch recipe for ${foodid} failed !  ` + e)}\n   \n    }\n  \n    useEffect(() => {  getRecipe()  },[])\n    useEffect(() => { console.log(ingredients)},[ingredients])\n  \n    return (<section>\n      {\n        recipedata.map(item => (\n          <div key={`${item.strMeal} ${item.strMeal} ${item.idMeal}`}>\n            <h4 key={item.strMeal}>{item.strMeal}</h4>\n            <img key={item.strMealThumb} src={item.strMealThumb} alt={item.strMeal} />\n            { recipetext.map(steps => (steps !== \"\" &&  <p key={steps}> {steps}</p>   )) }\n  \n  \n            { ingredientamount.length >0 && <div>{ ingredients.map(obj => (<p key={`${item.idMeal}${obj} ${item.idMeal}`}>-{ingredientamount[ingredients.indexOf(obj)] } {obj}</p>   )) }\n          </div> }\n  \n          <button onClick={ () => set_showvideo(true) }>Watch Video</button>\n  \n          {\n           (showvideo && youtubeid !== \"\" ) && <div>\n            <iframe width=\"560\" height=\"315\" src={`https://www.youtube.com/embed/${youtubeid}` } title=\"YouTube video player\" frameborder=\"0\"  allowFullScreen></iframe>\n            </div>\n          }\n        \n    \n          </div>\n   \n        ))\n      }\n      </section>)\n  }\n\nexport default RecipePage;\n"]},"metadata":{},"sourceType":"module"}