{"ast":null,"code":"var _jsxFileName = \"/home/danu/Desktop/kb/Code projects/react/morbik-food/src/recipepage.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport loading from './imgs/loading.gif';\nimport saveFavorites from './savefavorites_function';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst RecipePage = _ref => {\n  _s();\n\n  let {\n    foodid,\n    similarfoods\n  } = _ref;\n  const [currentfood_id, set_currentfood_id] = useState(foodid);\n  const [recipedata, set_recipedata] = useState([]);\n  const [recipetext, set_recipetext] = useState([]);\n  const [ingredients, set_ingridients] = useState([]);\n  const [ingredientamount, set_ingredientsamount] = useState([]);\n  const [youtubeid, set_youtubeid] = useState(\"\");\n  const [showvideo, set_showvideo] = useState(false);\n  const [isfavorite, set_isfavorite] = useState(false);\n  let favoritefoods = [];\n\n  const getRecipe = async () => {\n    try {\n      const result = await axios(`https://www.themealdb.com/api/json/v1/1/lookup.php?i=${currentfood_id}`);\n\n      if (localStorage.getItem(\"SavedFoods\")) {\n        favoritefoods = localStorage.getItem(\"SavedFoods\").split(\",\");\n        favoritefoods = localStorage.getItem(\"SavedFoods\").split(\",\");\n\n        if (favoritefoods.includes(currentfood_id)) {\n          set_isfavorite(true);\n        }\n      }\n\n      set_recipedata(result.data.meals);\n      let temparr = result.data.meals[0].strInstructions.split(\"\\n\");\n      set_recipetext(temparr);\n      temparr = [];\n      let temparr_two = [];\n\n      for (let i = 1; i < 21; i++) {\n        let str = \"strIngredient\" + i;\n        let str2 = \"strMeasure\" + i;\n\n        if (result.data.meals[0][str] || result.data.meals[0][str] !== \"\") {\n          temparr.push(result.data.meals[0][str]);\n          temparr_two.push(result.data.meals[0][str2]);\n        }\n\n        if (result.data.meals[0][str] == null) {\n          temparr.pop();\n          temparr_two.pop();\n        }\n      }\n\n      set_ingridients(temparr);\n      set_ingredientsamount(temparr_two);\n      temparr = [];\n      temparr_two = [];\n      temparr = result.data.meals[0].strYoutube.split(\"=\");\n      set_youtubeid(temparr[temparr.length - 1]);\n      temparr = [];\n    } catch (e) {\n      console.log(`Fetch recipe for ${foodid} failed !  ` + e);\n    }\n  };\n\n  useEffect(() => {\n    set_isfavorite(false);\n    getRecipe();\n  }, [currentfood_id]);\n\n  const removeFavorite = id => {\n    set_isfavorite(false);\n    let temparr = localStorage.getItem(\"SavedFoods\").split(\",\");\n    console.dir(\"---\" + temparr);\n    temparr.splice(temparr.indexOf(id), 1);\n    localStorage.setItem(\"SavedFoods\", temparr);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"mt-8\",\n    children: [recipedata.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex item-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: loading,\n        alt: \"loading\",\n        className: \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 31\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-16\",\n      children: [recipedata.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"section\", {\n          className: \"flex flex-row items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ml-2 flex flex-col w-2/4\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"ml-1\",\n              src: item.strMealThumb,\n              alt: item.strMeal,\n              width: \"480\",\n              height: \"315\"\n            }, item.strMealThumb, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"text-center border-b-2 font-black pl-2 w-3/5\",\n                children: [item.strMeal, \" \"]\n              }, item.strMeal, true, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 21\n              }, this), isfavorite ? /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"pr-4 text-red-400\",\n                onClick: () => removeFavorite(item.idMeal),\n                children: \"Remove from Favorites\"\n              }, `${item.idMeal}${item.idMeal}1`, false, {\n                fileName: _jsxFileName,\n                lineNumber: 98,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"pr-4 text-red-400\",\n                onClick: () => {\n                  set_isfavorite(true);\n                  saveFavorites(\"food\", item.idMeal);\n                },\n                children: \"Add to Favories\"\n              }, `${item.idMeal}${item.idMeal}2`, false, {\n                fileName: _jsxFileName,\n                lineNumber: 99,\n                columnNumber: 21\n              }, this)]\n            }, `${item.strMeal} ${item.strMeal} ${item.idMeal}3`, true, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 19\n            }, this)]\n          }, `${item.strMeal} ${item.strMeal} ${item.idMeal}2`, true, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 17\n          }, this), !showvideo && /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"border-1 rounded-full bg-amber-300 px-8 py-2 flex flex-row justify-between font-mono ml-24 hover:bg-amber-400 \",\n            onClick: () => set_showvideo(true),\n            children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n              xmlns: \"http://www.w3.org/2000/svg\",\n              className: \"mr-4 self-center\",\n              \"aria-hidden\": \"true\",\n              role: \"img\",\n              width: \"2em\",\n              height: \"2em\",\n              viewBox: \"0 0 16 16\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                fill: \"currentColor\",\n                d: \"M8.051 1.999h.089c.822.003 4.987.033 6.11.335a2.01 2.01 0 0 1 1.415 1.42c.101.38.172.883.22 1.402l.01.104l.022.26l.008.104c.065.914.073 1.77.074 1.957v.075c-.001.194-.01 1.108-.082 2.06l-.008.105l-.009.104c-.05.572-.124 1.14-.235 1.558a2.007 2.007 0 0 1-1.415 1.42c-1.16.312-5.569.334-6.18.335h-.142c-.309 0-1.587-.006-2.927-.052l-.17-.006l-.087-.004l-.171-.007l-.171-.007c-1.11-.049-2.167-.128-2.654-.26a2.007 2.007 0 0 1-1.415-1.419c-.111-.417-.185-.986-.235-1.558L.09 9.82l-.008-.104A31.4 31.4 0 0 1 0 7.68v-.123c.002-.215.01-.958.064-1.778l.007-.103l.003-.052l.008-.104l.022-.26l.01-.104c.048-.519.119-1.023.22-1.402a2.007 2.007 0 0 1 1.415-1.42c.487-.13 1.544-.21 2.654-.26l.17-.007l.172-.006l.086-.003l.171-.007A99.788 99.788 0 0 1 7.858 2h.193zM6.4 5.209v4.818l4.157-2.408L6.4 5.209z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 105,\n                columnNumber: 163\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"self-center\",\n              children: \"Watch Video Instead\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 992\n            }, this)]\n          }, `${item.strMeal} ${item.strMeal} ${item.idMeal}5`, true, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 32\n          }, this), showvideo && youtubeid !== \"\" && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ml-8\",\n            children: [/*#__PURE__*/_jsxDEV(\"iframe\", {\n              width: \"440\",\n              height: \"425\",\n              src: `https://www.youtube.com/embed/${youtubeid}`,\n              title: \"YouTube video player\",\n              frameborder: \"0\",\n              allowFullScreen: true\n            }, `${item.strMeal} ${item.strMeal} ${item.idMeal}9`, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"w-full hover:bg-gray-200\",\n              onClick: () => set_showvideo(false),\n              children: \"\\u274C\"\n            }, `${item.strMeal} ${item.strMeal} ${item.idMeal}10`, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 21\n            }, this)]\n          }, `${item.strMeal} ${item.strMeal} ${item.idMeal}6`, true, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 54\n          }, this)]\n        }, `${item.strMeal} ${item.strMeal} ${item.idMeal}1`, true, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n          className: \"flex flex-col justify-items-center items-center\",\n          children: [ingredientamount.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gray-100 rounded-r-lg w-5/12 my-20 py-8 pl-4 font-serif\\t\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-center capitalize text-2xl leading-10 pb-8\",\n              children: \"Ingredients Needed\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 19\n            }, this), ingredients.map(obj => /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-center leading-8\",\n              children: [ingredientamount[ingredients.indexOf(obj)], \" \", obj]\n            }, `${item.idMeal}${obj} ${item.idMeal}`, true, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 44\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 49\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-3/4 border-l-2 border-l-green-700 pl-8 my-40 font-serif leading-8\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-center capitalize text-2xl leading-10 mb-8 font-bold \",\n              children: \"Recipe\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 19\n            }, this), recipetext.map(steps => steps !== \"\" && /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\" \", steps]\n            }, steps, true, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 61\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 15\n        }, this)]\n      }, `${item.strMeal} ${item.strMeal} ${item.idMeal}`, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 13\n      }, this)), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this), recipedata.length !== 0 && /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"capitalize text-xl leading-10 font-light pl-2 ml-24 \",\n      children: \"Similar Foods\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 35\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"h-96 overflow-y-scroll ml-24 \",\n      children: similarfoods.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"float-left w-1/5 ml-2\",\n        onClick: () => set_currentfood_id(item.idMeal),\n        children: recipedata[0] !== undefined && recipedata[0].strMeal !== item.strMeal && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm font-light hover:opacity-75\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: item.strMealThumb,\n            alt: item.strMeal\n          }, item.strMealThumb, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \" text-center\",\n            children: item.strMeal\n          }, item.strMeal, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 13\n          }, this)]\n        }, `${item.strMealThumb}${item.strMeal}`, true, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 86\n        }, this)\n      }, `${item.idMeal}${item.strMealThumb}${item.strMeal}`, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 34\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 11\n  }, this);\n};\n\n_s(RecipePage, \"ckfZ3lBkbyW+/X1ppWb3Ex0o/vc=\");\n\n_c = RecipePage;\nexport default RecipePage;\n\nvar _c;\n\n$RefreshReg$(_c, \"RecipePage\");","map":{"version":3,"sources":["/home/danu/Desktop/kb/Code projects/react/morbik-food/src/recipepage.js"],"names":["useState","useEffect","axios","loading","saveFavorites","RecipePage","foodid","similarfoods","currentfood_id","set_currentfood_id","recipedata","set_recipedata","recipetext","set_recipetext","ingredients","set_ingridients","ingredientamount","set_ingredientsamount","youtubeid","set_youtubeid","showvideo","set_showvideo","isfavorite","set_isfavorite","favoritefoods","getRecipe","result","localStorage","getItem","split","includes","data","meals","temparr","strInstructions","temparr_two","i","str","str2","push","pop","strYoutube","length","e","console","log","removeFavorite","id","dir","splice","indexOf","setItem","map","item","strMealThumb","strMeal","idMeal","obj","steps","undefined"],"mappings":"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","sourcesContent":["import { useState, useEffect } from 'react'\nimport axios from 'axios'\nimport loading from './imgs/loading.gif'\nimport saveFavorites from './savefavorites_function'\n\n\nconst RecipePage = ({ foodid, similarfoods }) => {\n\n  const [currentfood_id, set_currentfood_id] = useState(foodid)\n  const [recipedata, set_recipedata] = useState([]);\n  const [recipetext, set_recipetext] = useState([]);\n  const [ingredients, set_ingridients] = useState([]);\n  const [ingredientamount, set_ingredientsamount] = useState([]);\n  const [youtubeid, set_youtubeid] = useState(\"\");\n  const [showvideo, set_showvideo] = useState(false);\n  const [isfavorite , set_isfavorite] = useState(false);\n  let favoritefoods = [];\n\n  const getRecipe = async () => {\n\n    try {\n      const result = await axios(`https://www.themealdb.com/api/json/v1/1/lookup.php?i=${currentfood_id}`)\n\n      if(localStorage.getItem(\"SavedFoods\"))\n      {  favoritefoods = localStorage.getItem(\"SavedFoods\").split(\",\");\n      favoritefoods = localStorage.getItem(\"SavedFoods\").split(\",\");\n\n          if(favoritefoods.includes(currentfood_id) ) { set_isfavorite(true); }\n      }\n\n\n      set_recipedata(result.data.meals)\n      let temparr = result.data.meals[0].strInstructions.split(\"\\n\");\n\n      set_recipetext(temparr);\n\n      temparr = [];\n      let temparr_two = [];\n\n      for (let i = 1; i < 21; i++) {\n        let str = \"strIngredient\" + i;\n        let str2 = \"strMeasure\" + i;\n\n        if (result.data.meals[0][str] || result.data.meals[0][str] !== \"\") {\n          temparr.push(result.data.meals[0][str])\n          temparr_two.push(result.data.meals[0][str2])\n        }\n\n        if (result.data.meals[0][str] == null) {\n          temparr.pop();\n          temparr_two.pop();\n        }\n      }\n\n   \n      set_ingridients(temparr);\n      set_ingredientsamount(temparr_two);\n\n      temparr = []; temparr_two = [];\n\n      temparr = result.data.meals[0].strYoutube.split(\"=\");\n\n      set_youtubeid(temparr[temparr.length - 1]);\n      temparr = [];\n\n\n    } catch (e) { console.log(`Fetch recipe for ${foodid} failed !  ` + e) }\n\n  }\n\n  useEffect(() => { set_isfavorite(false); getRecipe() }, [currentfood_id])\n\n   const removeFavorite = (id) => {\n     set_isfavorite(false);\n     let temparr = localStorage.getItem(\"SavedFoods\").split(\",\");\n     console.dir(\"---\"+ temparr)\n          temparr.splice(temparr.indexOf(id),1 );\n          \n         localStorage.setItem(\"SavedFoods\", temparr);\n   }\n  \n\n\n  return (<section className=\"mt-8\">\n    {recipedata.length === 0 ?<div className=\"flex item-center justify-center\"> \n    <img src={loading} alt=\"loading\" className=\"\" /> \n    </div> :\n      <div className=\"mt-16\">\n        {\n          recipedata.map(item => (\n            <div key={`${item.strMeal} ${item.strMeal} ${item.idMeal}`}>\n              <section key={`${item.strMeal} ${item.strMeal} ${item.idMeal}1`} className=\"flex flex-row items-center\">\n                <div key={`${item.strMeal} ${item.strMeal} ${item.idMeal}2`} className=\"ml-2 flex flex-col w-2/4\">\n                  <img className=\"ml-1\" key={item.strMealThumb} src={item.strMealThumb} alt={item.strMeal} width=\"480\" height=\"315\" />\n                  <div key={`${item.strMeal} ${item.strMeal} ${item.idMeal}3`} className=\"flex justify-between\">\n                    <h4 className=\"text-center border-b-2 font-black pl-2 w-3/5\" key={item.strMeal}>{item.strMeal} </h4>\n                    {isfavorite ?\n                    <button key={`${item.idMeal}${item.idMeal}1`} className=\"pr-4 text-red-400\" onClick={() => removeFavorite(item.idMeal) }>Remove from Favorites</button> :\n                    <button key={`${item.idMeal}${item.idMeal}2`}  className=\"pr-4 text-red-400\" onClick={() => {set_isfavorite(true); saveFavorites(\"food\",item.idMeal)}}>Add to Favories</button>\n                  }\n                  </div>\n                </div>\n\n                {!showvideo && <button key={`${item.strMeal} ${item.strMeal} ${item.idMeal}5`} className=\"border-1 rounded-full bg-amber-300 px-8 py-2 flex flex-row justify-between font-mono ml-24 hover:bg-amber-400 \" onClick={() => set_showvideo(true)}>\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"mr-4 self-center\" aria-hidden=\"true\" role=\"img\" width=\"2em\" height=\"2em\" viewBox=\"0 0 16 16\"><path fill=\"currentColor\" d=\"M8.051 1.999h.089c.822.003 4.987.033 6.11.335a2.01 2.01 0 0 1 1.415 1.42c.101.38.172.883.22 1.402l.01.104l.022.26l.008.104c.065.914.073 1.77.074 1.957v.075c-.001.194-.01 1.108-.082 2.06l-.008.105l-.009.104c-.05.572-.124 1.14-.235 1.558a2.007 2.007 0 0 1-1.415 1.42c-1.16.312-5.569.334-6.18.335h-.142c-.309 0-1.587-.006-2.927-.052l-.17-.006l-.087-.004l-.171-.007l-.171-.007c-1.11-.049-2.167-.128-2.654-.26a2.007 2.007 0 0 1-1.415-1.419c-.111-.417-.185-.986-.235-1.558L.09 9.82l-.008-.104A31.4 31.4 0 0 1 0 7.68v-.123c.002-.215.01-.958.064-1.778l.007-.103l.003-.052l.008-.104l.022-.26l.01-.104c.048-.519.119-1.023.22-1.402a2.007 2.007 0 0 1 1.415-1.42c.487-.13 1.544-.21 2.654-.26l.17-.007l.172-.006l.086-.003l.171-.007A99.788 99.788 0 0 1 7.858 2h.193zM6.4 5.209v4.818l4.157-2.408L6.4 5.209z\" /></svg><span className=\"self-center\">Watch Video Instead</span></button>}\n\n                {\n                  (showvideo && youtubeid !== \"\") && <div className=\"ml-8\" key={`${item.strMeal} ${item.strMeal} ${item.idMeal}6`}>\n                    <iframe key={`${item.strMeal} ${item.strMeal} ${item.idMeal}9`} width=\"440\" height=\"425\" src={`https://www.youtube.com/embed/${youtubeid}`} title=\"YouTube video player\" frameborder=\"0\" allowFullScreen></iframe>\n                    <button key={`${item.strMeal} ${item.strMeal} ${item.idMeal}10`} className=\"w-full hover:bg-gray-200\" onClick={() => set_showvideo(false)}>‚ùå</button>\n                  </div>\n                }\n\n              </section>\n\n              <section className=\"flex flex-col justify-items-center items-center\">\n                {ingredientamount.length > 0 && <div className=\"bg-gray-100 rounded-r-lg w-5/12 my-20 py-8 pl-4 font-serif\t\">\n                  <h2 className=\"text-center capitalize text-2xl leading-10 pb-8\">Ingredients Needed</h2>\n                  {ingredients.map(obj => (<p className=\"text-center leading-8\" key={`${item.idMeal}${obj} ${item.idMeal}`}>{ingredientamount[ingredients.indexOf(obj)]} {obj}</p>))}\n                </div>}\n\n                <div className=\"w-3/4 border-l-2 border-l-green-700 pl-8 my-40 font-serif leading-8\">\n                  <h2 className=\"text-center capitalize text-2xl leading-10 mb-8 font-bold \">Recipe</h2>\n                  {recipetext.map(steps => (steps !== \"\" && <p key={steps}> {steps}</p>))}\n                </div>\n\n\n              </section>\n\n\n            </div>\n\n          ))\n        } </div>}\n\n     {recipedata.length !== 0  && <h2 className=\"capitalize text-xl leading-10 font-light pl-2 ml-24 \">Similar Foods</h2>}\n\n    <div className=\"h-96 overflow-y-scroll ml-24 \">\n\n      {similarfoods.map(item => (<div className=\"float-left w-1/5 ml-2\" onClick={() => set_currentfood_id(item.idMeal)} key={`${item.idMeal}${item.strMealThumb}${item.strMeal}`}>\n        {\n          (recipedata[0] !== undefined && recipedata[0].strMeal !== item.strMeal) && <div className=\"text-sm font-light hover:opacity-75\" key={`${item.strMealThumb}${item.strMeal}`} >\n            <img key={item.strMealThumb} src={item.strMealThumb} alt={item.strMeal} />\n            <p className=\" text-center\" key={item.strMeal}>{item.strMeal}</p>\n          </div>\n        }\n      </div>\n      )\n      )}\n    </div>\n  </section>)\n}\n\nexport default RecipePage;\n"]},"metadata":{},"sourceType":"module"}